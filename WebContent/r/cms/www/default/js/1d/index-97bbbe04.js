!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";t(166),t(13),t(139),t(168),t(171),t(174),t(157),t(177),t(116),t(130),t(160),t(182),console.log("index page")},,,,,,,,,,,,,function(e,n,t){"use strict";t(14),t(15),t(17),t(18),t(20),t(94),t(102),t(108),t(109);var i=yidian.queryjs;yidian.getCaptcha=function(e){i.getCaptcha(yidian.getDeviceId(),function(n){n&&n.image&&e.attr("src",n.image)},1)};var o=!0;yidian.showLogin=function(){yidian.showDialog(".login-mobile-dialog"),o&&(yidian.getCaptcha($(".login-mobile-dialog .verification-code img")),o=!1)},yidian.showDialog=function(e,n){$(".mask").css("display","block"),$(".dialog").css("display","none"),$(e).css("display","block"),$(".dialog .error-msg").html("")},yidian.hideDialog=function(){$(".mask").css("display","none"),$(".dialog").css("display","none")},yidian.toast=function(e,n){if($("#toast").length)$("#toast").html(e);else{var t='<div id="toast">'+e+"</div>";$("body").append(t)}$("#toast").css("margin-left",-$("#toast").outerWidth()/2+"px"),$("#toast").fadeIn("fast",function(){setTimeout(function(){$("#toast").fadeOut("slow"),n&&n()},1500)})},$(document).on("click",".dialog .close",function(){yidian.hideDialog()}),$(document).on("click",".mask",function(e){yidian.hideDialog()}),$.cookie("wuid")||$.cookie("wuid",Math.floor(1e8*Math.random())+""+Math.floor(1e8*Math.random()),{path:"/",domain:".yidianzixun.com",expires:365}),yidian.getDeviceId=function(){return document.cookie.match(/wuid=([^;$]*)/)&&document.cookie.match(/wuid=([^;$]*)/)[1]||""},yidian.filter=yidian.filter||{},yidian.filter.loginFilter=function(){return yidian.docinfo.is_login||yidian.showLogin(),yidian.docinfo.is_login},yidian.processor=yidian.processor||{},yidian.processor.channelName=function(e){return e.match(/\[_x_.*\](.*)/)&&(e=e.match(/\[_x_.*\](.*)/)[1]),e},yidian.bindChannelSubscribeEvent=function(e){e.on("click",".js-subscribe-btn",function(e){var n=this;if(yidian.filter.loginFilter()&&!$(this).hasClass("disabled")){$(this).addClass("disabled");var t=$(this).closest(".js-channel-subscribe-item"),i=t.attr("data-fromId"),o=t.attr("data-channelName");"undefined"==i&&(i=""),"undefined"==o&&(o="");var a={complete:function(){$(n).removeClass("disabled")}};i?yidian.subscribeChannel({fromId:i},a):o&&yidian.subscribeChannel({channel_name:o},a)}}),e.on("click",".js-unsubscribe-btn",function(e){var n=this;if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var t=$(this).closest(".js-channel-subscribe-item"),i=t.attr("data-channelid");"undefined"==i&&(i="");var o={complete:function(){$(n).removeClass("disabled")}};i&&yidian.unsubscribeChannel(i,o)}}),$(window).on("userChannels:subscribeSuccess",function(n,t){if(t.fromId)var i=e.find('[data-fromId="'+t.fromId+'"]');else i=e.find('[data-channelName="'+t.name+'"]');i.length&&(i.attr("data-channelid",t.channel_id),i.addClass("subscribed"))}),$(window).on("userChannels:unsubscribeSuccess",function(n,t){var i=e.find('[data-channelid="'+t.channel_id+'"]');i.length&&(i.attr("data-channelid",void 0),i.removeClass("subscribed"))})};var a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"h"==e?{"transition-duration":n.duration+"ms","-webkit-transition-duration":n.duration+"ms",width:0,"padding-left":0,"padding-right":0,"margin-left":0,"margin-right":0,overflow:"hidden"}:"v"==e?{"transition-duration":n.duration+"ms","-webkit-transition-duration":n.duration+"ms",height:0,"padding-top":0,"padding-bottom":0,"margin-top":0,"margin-bottom":0,overflow:"hidden"}:void 0},r=function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("h"==e)return{"transition-duration":"","-webkit-transition-duration":"",width:"","padding-left":"","padding-right":"","margin-left":"","margin-right":"",overflow:""}};yidian.transitionRemoveDom=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.duration=void 0!==t.duration?t.duration:300,"h"==n?(e.css("width",e.width()),e.css("width")):"v"==n&&(e.css("height",e.height()),e.css("height")),e.css(a(n,t)),setTimeout(function(){e.remove()},t.duration)},yidian.transitionAddDom=function(e,n,t){t.duration=void 0!==t.duration?t.duration:300;var i=$(e);"h"==n&&(i.css(a(n,t)),t.insertDom(i),i.css("width"),i.css(r(n,t)))}},function(e,n){"use strict";var t=function(e){var n=[];return e.each(function(e,t){var i=$(t),o=i.offset(),a=i.width(),r=i.height();n.push({$item:$(t),pos:[o.left,o.left+a,o.top,o.top+r]})}),n},i=function(e,n){var t=n.$list,i=n.$item,o=t.index(i),a=t.index(e);a>o?(e.after(i),t.splice(a+1,0,i[0]),t.splice(o,1)):(e.before(i),t.splice(o,1),t.splice(a,0,i[0]))},o=function(e){for(var n=e.positionArr,o=e.left+e.dx,a=e.top+e.dy,r=0;r<n.length;r++){var c=n[r].$item,s=n[r].pos,d=!1;if(s[1]-s[0]>e.$item.width()){var l=(s[1]-s[0]-e.$item.width())/2;o>s[0]+l&&o<s[1]-l&&a>s[2]&&a<s[3]&&(d=!0)}else o>s[0]&&o<s[1]&&a>s[2]&&a<s[3]&&(d=!0);if(d){c[0]!==e.$item[0]&&(i(c,e),e.positionArr=t(e.$list));break}}};$.fn.dragsort=function(e){var n=this,i={};n.off("mousedown"),n.on("mousedown",function(o){if(!e.dragBefore||e.dragBefore(o)){o=o||window.event,o.preventDefault();var a=$(this),r={position:"absolute",left:a.offset().left,top:a.offset().top},c=$(this.outerHTML).addClass("copy-drag-item").css(r);$("body").after(c),a.addClass("placeholder"),i={$list:n,$item:a,$copy:c,left:r.left,top:r.top,dx:o.pageX-r.left,dy:o.pageY-r.top,positionArr:t(n)}}}),$(document).on("mousemove",function(e){i.$copy&&(i.left=e.pageX-i.dx,i.top=e.pageY-i.dy,i.$copy.css({left:i.left,top:i.top}),o(i))}),$(document).on("mouseup",function(n){i.$copy&&(i.$copy.remove(),i.$item.removeClass("placeholder"),e.dragEnd&&e.dragEnd(i)),i={}})}},function(e,n,t){"use strict";var i=t(16);$.fn.form_validate=function(e){var n={},t=function(e){e=e||window.event;var t=$(e.target),i=t.attr("name"),o=t.val().trim();n[i]!=o&&(n[i]=o)},o=function(){d.find("input").each(function(){var e=$(this),t=e.attr("name"),i=e.val().trim();n[t]=i})},a={nonempty:function(e){return!!e},phone:function(e){return!!/^\d{11}$/.test(e)},email:function(e){return!!/^.+@.+$/.test(e)},username:function(e){return a.phone(e)||a.email(e)},password:function(e){return!!/.{6,20}/.test(e)},"same-as":function(e,t){return e==n[t]},"verification-code":function(e){return!!e}},r={nonempty:"输入内容不能为空",email:"请输入正确邮箱格式",phone:"请输入11位电话号码",username:"用户名格式不正确",password:"请输入6-20位密码","same-as":"两次密码输入不一致","verification-code":"验证码不能为空"},c=function(e,t){for(var i=0;i<t.length;i++)if(!s(n[e],t[i]))return!1;return!0},s=function(n,t){var o=t.match(/(.*?)\((.*?)\)/);if(o){t=o[1];var c=o[2].split(",");c.unshift(n)}else c=[n];return!!a[t].apply(this,c)||(e.$error.html((0,i.getErrorMessageHtml)(r[t])),!1)},d=$(this);d.find("input").on("propertychange",t),d.find("input").on("input",t),d.data().formData=n,d.find("input").each(function(){var e=$(this),t=e.attr("name"),i=e.val().trim()||"";n[t]=i}),d.on("submit",function(t){t=t||window.event,t.preventDefault(),o();var i=!0;if(e&&e.fields)for(var a in e.fields)if(!c(a,e.fields[a])){i=!1;break}i&&(e.$error.html(""),e.onsubmit.call($(this),n))}),e.phoneVerificationBtn&&$(e.phoneVerificationBtn).click(function(){var t=$(this);t.hasClass("waiting")||s(n.phone,"phone")&&(t.addClass("waiting"),e.getVerificationCode(n,function(n){if(n&&"success"===n.status){e.$error.html(""),t.removeClass("active");var o=60;t.text(o+"s后再次获取");var a=setInterval(function(){o--,t.text(o+"s后再次获取"),o<=0&&(clearInterval(a),t.text("发送验证码").removeClass("waiting"))},1e3)}else e.$error.html((0,i.getErrorMessageHtml)(n.reason||"")),t.removeClass("waiting")}))})}},function(e,n){"use strict";n.getErrorMessageHtml=function(e){return'<div class="error-msg-inner"><span class="icon-delete iconfont"></span>'+e+"</div>"}},function(e,n){"use strict";$.mouseoutHide=function(e,n){var t=function(t){if(t=t||window.event,!$(t.relatedTarget||t.toElement).closest(e).length){if(n)return n(t);e.css("display","none")}};e.off("mouseout",t),e.on("mouseout",t)},$.mouseOverShow=function(e,n,t,i){var o=null,a=function(e){return o&&clearTimeout(o),t?(e=e||window.event,t()):void n.css("display","block")},r=function(t){t=t||window.event;var a=$(t.relatedTarget||t.toElement);a.closest(e).length||a.closest(n).length||(o&&clearTimeout(o),o=setTimeout(function(){return i?(t=t||window.event,i(t)):void n.css("display","none")},200))};e.on("mouseover",a),n.on("mouseover",a),e.on("mouseout",r),n.on("mouseout",r)}},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n.queryjs=void 0;var o,a=t(19),r=i(a),c={},s=yidian.docinfo.user_info&&yidian.docinfo.user_info.web_yidian?"web_yidian":"yidian",d=function(e,n,t,i){"function"==typeof n&&(i=t,t=n,n=null),i=i||0,n=n||{},n.appid=n.appid||s;var o=function a(){$.ajax({url:e,data:n,success:function(e){(!e||0!==e.code)&&i>0?(i--,a()):t&&t.apply(null,arguments)},cache:!1,error:function(e,n,i){t&&t(null)}})};o()},l=function(e){e=e||[];for(var n=[],t=0,i=e.length;t<i;t++){var o=e[t];o.ctype=o.ctype||"news","column"===o.ctype?n=n.concat(o.columns):"tweet"!=o.ctype&&n.push(o)}return n},u={getCaptcha:function(e,n,t){var i={deviceid:e};d("/home/q/get_captcha",i,function(e){n&&n(e)},t)},login:function(e,n,t){var i={username:/^\d{11}$/.test(e)?"86"+e:e,password:n};$.post("/mp_sign_in",i,function(e){t&&t(e)})},mobile_quick_login:function(e,n,t,i){e=/^\d{11}$/.test(e)?"86"+e:e;var o={mobile:e,deviceid:n,code:t};d("/home/q/mobile_quick_login",o,function(e){i&&i(e)})},mobileRegister:function(e,n,t,i,o){var a={deviceid:e,mobile:n,password:t,code:i,appid:"yidian"};d("/home/q/mobile_sign_in",a,function(e){o&&o(e)})},emailRegister:function(e,n,t,i){var o={username:e,password:n,captcha:t};$.post("/mp_sign_up",o,function(e){i&&i(e)})},resetPassword:function(e,n){d("/home/q/reset_password",e,function(e){n&&n(e)})},logout:function(e){d("/signout",function(n){e&&e(n)})},getNewsList:function(e,n,t,i,o){var a=!(!yidian.docinfo.is_login&&!yidian.docinfo.user_info.web_yidian),r="/home/q/news_list_for_channel?channel_id="+e+"&cstart="+n+"&cend="+t+"&infinite="+a+"&refresh=1&__from__=pc";for(var c in o)r+="&"+c+"="+o[c];d(r,function(e){e&&"success"===e.status&&e.result&&(e.result=l(e.result)),i&&i(e)})},getNewsListForKeyword:function(e,n,t,i,o){o=o||{},o.word_type=o.word_type||"token";var a="/home/q/news_list_for_keyword?display="+encodeURIComponent(e)+"&cstart="+n+"&cend="+t;for(var r in o)a+="&"+r+"="+o[r];d(a,function(e){e&&"success"===e.status&&e.result&&(e.result=l(e.result)),i&&i(e)})},getNewsListForVertical:function(e,n,t){var i="/home/q/news_list_for_vertical?from_id="+encodeURIComponent(e)+"&interest_id="+encodeURIComponent(n);d(i,function(e){t&&t(e)})},getWeather:function(e,n){var t="/weather";d(t,e,function(e){n&&n(e)})},getNewsListForNavigationLevel1:function(e,n,t,i){var o={template:e,interest_id:n,from_id:t};d("/home/q/navigation_for_vertical",o,function(e){i&&i(e)})},addChannel:function(e,n,t,i){if("string"==typeof e)var o={channel_id:e,insert_at:n,group_id:t};else o={channel_id:e.fromId,channel_name:e.channel_name,insert_at:n,group_id:t};d("/home/q/create_channel",o,function(e){i&&i(e)})},deleteChannel:function(e,n){d("/home/q/delete_channel?channel_id="+e,function(e){n&&n(e)})},groupSetOrder:function(e,n){d("/home/q/group_set_order",e,function(e){n&&n(e)})},getRecommendChannel:function(e){d("/home/q/get_recommend_channel",function(n){e&&e(n)})},getHotSearchKeywords:function(e){d("/home/q/hot_search_keywords",function(n){e&&e(n)})},searchChannel:function(e,n){return c[e]?n&&n(c[e]):void d("/home/q/search_channel?word="+encodeURIComponent(e),function(t){if(t&&t.channels){for(o=0;o<t.channels.length;o++)t.channels[o].fromId=t.channels[o].id;c[e]=t}n&&n(t)})},getSlides:function(e){d("/home/q/get_pc_slides",function(n){e&&e(n)})},getRecommendMedia:function(e,n){d("/home/q/get_recommend_media?count="+e,function(e){n&&n(e)})},cardImediaArticle:function(e,n){d("/home/q/card_imedia_article?count="+e,function(e){n&&n(e)})},getHotArticle:function(e){d("/home/q/get_hot_article?",function(n){e&&e(n)})},getHotVideo:function(e,n){d("/home/q/get_hot_video?count="+e,function(e){n&&n(e)})},removeDoc:function(e,n){n&&n({status:"success"})},sendFeedback:function(e,n,t){d("/home/q/send_feedback?text="+e+"&email="+n+"&source=Web.mobile.com.yidianzixun",function(e){t&&t(e)})},getLike:function(e,n,t){d("/home/q/get_like",function(e){if(e&&e.result&&e.result.length)for(o=0;o<e.result.length;o++)e.result[o].date=r["default"].formateDate(e.result[o].date);t&&t(e)})},like:function(e,n){d("/home/q/like?docid="+e+"&data_type=0",function(e){n&&n(e)})},dislike:function(e,n,t){var i={docid:e,uids:n,data_type:0};d("/home/q/dislike",i,function(e){t&&t(e)})},addUpDoc:function(e,n){d("/home/q/addup?docid="+e,function(e){n&&n(e)})},addDownDoc:function(e,n){d("/home/q/adddown?docid="+e,function(e){n&&n(e)})},addUpComment:function(e,n){d("/home/q/addupcomment?commentid="+e,function(e){n&&n(e)})},getRecommendVideo:function(e,n){d("/home/q/getrecommendvideo?docid="+e+"&s=",function(e){n&&n(e)})},getRelatedNews:function(e,n,t,i){d("/home/q/getrelatednews?docid="+e+"&start="+n+"&length="+t+"&s=",function(e){$(window).trigger("news:ajaxCallback",[e]),i&&i(e)})},getComments:function(e,n,t,i){d("/home/q/getcomments?_="+Date.now()+"&docid="+e+"&s=&count="+(n||0)+"&last_comment_id="+(t||""),function(e){if(e&&e.comments&&e.comments.length)for(o=0;o<e.comments.length;o++)e.comments[o].createAt=r["default"].formateDate(e.comments[o].createAt);i&&i(e)})},getMoreReplies:function(e,n){d("/home/q/getmorereplies?_="+Date.now()+"&comment_id="+e+"&s=",function(e){n&&n(e)})},addComment:function(e,n,t,i){d("/home/q/addcomment?docid="+e+"&comment="+encodeURIComponent(n)+"&reply="+t+"&s=",function(e){e&&"success"===e.status&&(e.comment.createAt=r["default"].formateDate(e.comment.createAt),e.comment.reply_to=t,e.comment.mine=!0),i&&i(e)})},deleteComment:function(e,n,t,i){d("/home/q/delcomment?docid="+e+"&comment_id="+n+"&reply_id="+t+"&s=",function(e){i&&i(e)})},getTopicList:function(e){d("/home/q/get_topic_list",function(n){e&&e(n)})}};window.yidian.queryjs||(window.yidian.queryjs=u),n.queryjs=u},function(e,n){"use strict";n.formateDate=function(e){var n,t,i,o,a,r,c;return e?("string"!=typeof e||e.indexOf(" ")===-1&&e.indexOf("T")===-1?e=new Date(e):(e=e.indexOf(" ")!==-1?e.split(" "):e.split("T"),n=e[0].split("-"),a=e[1].split(":"),e=new Date(n[0],n[1]-1,n[2],a[0],a[1],a[2])),o=new Date,r=new Date(o.getFullYear(),o.getMonth(),o.getDate()),n=(e-r)/864e5,c=e.getFullYear()+"."+(e.getMonth()+1)+"."+e.getDate(),n>=0?(t=(o-e)/36e5,t<1?(i=(o-e)/6e4,c=i>=1?Math.floor(i)+"分钟前":"刚刚"):c=Math.floor(t)+"小时前"):n>-4&&(n=Math.ceil(Math.abs(n)),c=1===n?"昨天":n+"天前"),c):""},n.handleDuration=function(e){var n,t,i;if(e=e||0,"string"==typeof e){if(!Number(e))return e||"";e=Number(e)}return i=Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60),t=Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60),n=Math.floor(e/3600),(n?n:"")+(t+":"+i)},n.get_random_arr=function(e,n){if(e&&e.length<=n)return e;for(var t=[],i=e.concat();n--;){var o=Math.floor(Math.random()*i.length);t.push(i.splice(o,1)[0])}return t},n.sortHotwords=function(e,n,t){var i,o,a,r,c,s;return r=[],t=t||5,s=n,a=0,c=[],i=function(){var o,d,l;if(l=!1,d=0,$.each(e,function(e,n){if(n[1]<s&&!l)return d=e,void(l=!0)}),o=e.splice(d,1)[0],r.push(o),l||(a++,s=n),c[a]||(c[a]=""),c[a]+=" "+r.length,s-=o[1],e.length&&a<t)return i()},i(),o={lis:r,index:c}}},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=t(21),a=i(o),r=t(89),c=i(r),s=t(90),d=i(s),l=t(18),u="\n<% var active = current_channel && (channel.fromId && channel.fromId == current_channel.fromId || (!channel.fromId && channel.name == current_channel.name)) ? ' active' : '' %>\n<a class='item<%=active%>' href='/channel/<%=channel.fromId%>' data-index='<%=index%>' data-channelid='<%=(channel.channel_id || channel.fromId)%>'><%=channel.name%></a>\n",f="\n<% var active = current_channel && (channel.fromId && channel.fromId == current_channel.fromId || (!channel.fromId && channel.name == current_channel.name)) ? ' active' : '' %>\n<div class='item channel-item<%=active%>' data-channelid='<%=channel.channel_id || channel.fromId%>'>\n  <button><%=channel.name%></button>\n  <span class='delete iconfont icon-delete'></span>\n</div>\n",h=yidian.docinfo.user_info.user_channels,p=function(){function e(n){(0,c["default"])(this,e),this.$container=n,this.updateChannelMap()}return(0,d["default"])(e,[{key:"setChannels",value:function(e){h=e,this.updateChannelMap(),this.render()}},{key:"getChannel",value:function(e){return this.channelMap[e]}},{key:"hasChannel",value:function(e){return(e.fromId||e.id||e.channel_id)in this.channelMap}},{key:"isChannelSubscribed",value:function(e){return yidian.docinfo.is_login&&this.hasChannel(e)}},{key:"pushChannel",value:function(e){h.splice(4,0,e),this.updateChannelMap(),this.render("push",e)}},{key:"removeChannel",value:function(e){for(var n=0;n<h.length&&(h[n].fromId!=e&&h[n].channel_id!=e);n++);if(n<h.length){var t=h[n];h.splice(n,1),this.updateChannelMap(),this.render("remove",t)}}},{key:"updateChannelMap",value:function(){this.channelMap={};for(var e=0;e<h.length;e++)h[e].fromId&&(this.channelMap[h[e].fromId]=h[e]),h[e].channel_id&&(this.channelMap[h[e].channel_id]=h[e])}},{key:"render",value:function(e,n){var t=this;switch(e){case"push":n.name=yidian.processor.channelName(n.name);var i=ejs.render(u,{channel:n,index:h.length-1,current_channel:yidian.docinfo.current_channel});yidian.transitionAddDom(i,"h",{insertDom:function(e){t.$container.find("a").eq(4).length?t.$container.find("a").eq(4).before(e):t.$container.find("a").last().after(e)}}),$(".channel-edit-panel").length&&($(".channel-edit-panel .channel-item").eq(4).length?$(".channel-edit-panel .channel-item").eq(4).before(ejs.render(f,{channel:n,current_channel:yidian.docinfo.current_channel})):$(".channel-edit-panel .channel-item").last().after(ejs.render(f,{channel:n,current_channel:yidian.docinfo.current_channel})));break;case"remove":var o=this.$container.find('[data-channelid="'+(n.channel_id||n.fromId)+'"]');if(yidian.transitionRemoveDom(o,"h"),$(".channel-edit-panel").length){var a=$('.channel-edit-panel [data-channelid="'+(n.channel_id||n.fromId)+'"]');yidian.transitionRemoveDom(a,"h")}break;default:var i="";h.splice(2,0,{name:"一点号",type:"url",url:"/medialist",cantEdit:!0});for(var r=0;r<h.length;r++)h[r].name=yidian.processor.channelName(h[r].name),i+=ejs.render(u,{channel:h[r],index:r,current_channel:yidian.docinfo.current_channel});this.$container.html(i)}}}]),e}();yidian.userChannelsVM=new p($(".channel-nav .list")),yidian.subscribeChannel=function(e,n){if(yidian.filter.loginFilter()){var t=1,i=yidian.docinfo.user_info.group_id;l.queryjs.addChannel(e,t,i,function(t){if("object"==("undefined"==typeof e?"undefined":(0,a["default"])(e)))var i=e.fromId,o=e.channel_name;else i=e;n&&n.complete&&n.complete(t),t&&0===t.code&&t.created_channels&&t.created_channels[0]&&(i&&t.created_channels[0].fromId==i||o&&t.created_channels[0].name==o)?(yidian.userChannelsVM.pushChannel(t.created_channels[0]),$(window).trigger("userChannels:subscribeSuccess",[t.created_channels[0]])):(yidian.toast("订阅失败，再试一下吧！"),n&&n.error&&n.error(t))})}},yidian.unsubscribeChannel=function(e,n){l.queryjs.deleteChannel(e,function(t){n&&n.complete&&n.complete(t),t&&0===t.code&&t.deleted_channels&&t.deleted_channels[0]&&t.deleted_channels[0].channel_id==e?(yidian.userChannelsVM.removeChannel(e),$(window).trigger("userChannels:unsubscribeSuccess",[t.deleted_channels[0]])):(yidian.toast("取消失败，再试一下吧！"),n&&n.error&&n.error(t))})}},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=t(22),a=i(o),r=t(73),c=i(r),s="function"==typeof c["default"]&&"symbol"==typeof a["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof c["default"]&&e.constructor===c["default"]&&e!==c["default"].prototype?"symbol":typeof e};n["default"]="function"==typeof c["default"]&&"symbol"===s(a["default"])?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof c["default"]&&e.constructor===c["default"]&&e!==c["default"].prototype?"symbol":"undefined"==typeof e?"undefined":s(e)}},function(e,n,t){e.exports={"default":t(23),__esModule:!0}},function(e,n,t){t(24),t(68),e.exports=t(72).f("iterator")},function(e,n,t){"use strict";var i=t(25)(!0);t(28)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,n=this._t,t=this._i;return t>=n.length?{value:void 0,done:!0}:(e=i(n,t),this._i+=e.length,{value:e,done:!1})})},function(e,n,t){var i=t(26),o=t(27);e.exports=function(e){return function(n,t){var a,r,c=String(o(n)),s=i(t),d=c.length;return s<0||s>=d?e?"":void 0:(a=c.charCodeAt(s),a<55296||a>56319||s+1===d||(r=c.charCodeAt(s+1))<56320||r>57343?e?c.charAt(s):a:e?c.slice(s,s+2):(a-55296<<10)+(r-56320)+65536)}}},function(e,n){var t=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}},function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,n,t){"use strict";var i=t(29),o=t(30),a=t(45),r=t(35),c=t(46),s=t(47),d=t(48),l=t(64),u=t(66),f=t(65)("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",v="values",g=function(){return this};e.exports=function(e,n,t,y,w,b,_){d(t,n,y);var $,x,k,C=function(e){if(!h&&e in S)return S[e];switch(e){case m:return function(){return new t(this,e)};case v:return function(){return new t(this,e)}}return function(){return new t(this,e)}},j=n+" Iterator",I=w==v,M=!1,S=e.prototype,q=S[f]||S[p]||w&&S[w],E=q||C(w),O=w?I?C("entries"):E:void 0,D="Array"==n?S.entries||q:q;if(D&&(k=u(D.call(new e)),k!==Object.prototype&&(l(k,j,!0),i||c(k,f)||r(k,f,g))),I&&q&&q.name!==v&&(M=!0,E=function(){return q.call(this)}),i&&!_||!h&&!M&&S[f]||r(S,f,E),s[n]=E,s[j]=g,w)if($={values:I?E:C(v),keys:b?E:C(m),entries:O},_)for(x in $)x in S||a(S,x,$[x]);else o(o.P+o.F*(h||M),n,$);return $}},function(e,n){e.exports=!0},function(e,n,t){var i=t(31),o=t(32),a=t(33),r=t(35),c="prototype",s=function(e,n,t){var d,l,u,f=e&s.F,h=e&s.G,p=e&s.S,m=e&s.P,v=e&s.B,g=e&s.W,y=h?o:o[n]||(o[n]={}),w=y[c],b=h?i:p?i[n]:(i[n]||{})[c];h&&(t=n);for(d in t)l=!f&&b&&void 0!==b[d],l&&d in y||(u=l?b[d]:t[d],y[d]=h&&"function"!=typeof b[d]?t[d]:v&&l?a(u,i):g&&b[d]==u?function(e){var n=function(n,t,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,t)}return new e(n,t,i)}return e.apply(this,arguments)};return n[c]=e[c],n}(u):m&&"function"==typeof u?a(Function.call,u):u,m&&((y.virtual||(y.virtual={}))[d]=u,e&s.R&&w&&!w[d]&&r(w,d,u)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,n,t){var i=t(34);e.exports=function(e,n,t){if(i(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,i){return e.call(n,t,i)};case 3:return function(t,i,o){return e.call(n,t,i,o)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n,t){var i=t(36),o=t(44);e.exports=t(40)?function(e,n,t){return i.f(e,n,o(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n,t){var i=t(37),o=t(39),a=t(43),r=Object.defineProperty;n.f=t(40)?Object.defineProperty:function(e,n,t){if(i(e),n=a(n,!0),i(t),o)try{return r(e,n,t)}catch(c){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var i=t(38);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n,t){e.exports=!t(40)&&!t(41)(function(){return 7!=Object.defineProperty(t(42)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){e.exports=!t(41)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,n){e.exports=function(e){try{return!!e()}catch(n){return!0}}},function(e,n,t){var i=t(38),o=t(31).document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,n,t){var i=t(38);e.exports=function(e,n){if(!i(e))return e;var t,o;if(n&&"function"==typeof(t=e.toString)&&!i(o=t.call(e)))return o;if("function"==typeof(t=e.valueOf)&&!i(o=t.call(e)))return o;if(!n&&"function"==typeof(t=e.toString)&&!i(o=t.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){e.exports=t(35)},function(e,n){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,n){e.exports={}},function(e,n,t){"use strict";var i=t(49),o=t(44),a=t(64),r={};t(35)(r,t(65)("iterator"),function(){return this}),e.exports=function(e,n,t){e.prototype=i(r,{next:o(1,t)}),a(e,n+" Iterator")}},function(e,n,t){var i=t(37),o=t(50),a=t(62),r=t(59)("IE_PROTO"),c=function(){},s="prototype",d=function(){var e,n=t(42)("iframe"),i=a.length,o="<",r=">";for(n.style.display="none",t(63).appendChild(n),n.src="javascript:",e=n.contentWindow.document,e.open(),e.write(o+"script"+r+"document.F=Object"+o+"/script"+r),e.close(),d=e.F;i--;)delete d[s][a[i]];return d()};e.exports=Object.create||function(e,n){var t;return null!==e?(c[s]=i(e),t=new c,c[s]=null,t[r]=e):t=d(),void 0===n?t:o(t,n)}},function(e,n,t){var i=t(36),o=t(37),a=t(51);e.exports=t(40)?Object.defineProperties:function(e,n){o(e);for(var t,r=a(n),c=r.length,s=0;c>s;)i.f(e,t=r[s++],n[t]);return e}},function(e,n,t){var i=t(52),o=t(62);e.exports=Object.keys||function(e){return i(e,o)}},function(e,n,t){var i=t(46),o=t(53),a=t(56)(!1),r=t(59)("IE_PROTO");e.exports=function(e,n){var t,c=o(e),s=0,d=[];for(t in c)t!=r&&i(c,t)&&d.push(t);for(;n.length>s;)i(c,t=n[s++])&&(~a(d,t)||d.push(t));return d}},function(e,n,t){var i=t(54),o=t(27);e.exports=function(e){return i(o(e))}},function(e,n,t){var i=t(55);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var i=t(53),o=t(57),a=t(58);e.exports=function(e){return function(n,t,r){var c,s=i(n),d=o(s.length),l=a(r,d);if(e&&t!=t){for(;d>l;)if(c=s[l++],c!=c)return!0}else for(;d>l;l++)if((e||l in s)&&s[l]===t)return e||l||0;return!e&&-1}}},function(e,n,t){var i=t(26),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},function(e,n,t){var i=t(26),o=Math.max,a=Math.min;e.exports=function(e,n){return e=i(e),e<0?o(e+n,0):a(e,n)}},function(e,n,t){var i=t(60)("keys"),o=t(61);e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,n,t){var i=t(31),o="__core-js_shared__",a=i[o]||(i[o]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,n){var t=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+i).toString(36))}},function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,n,t){e.exports=t(31).document&&document.documentElement},function(e,n,t){var i=t(36).f,o=t(46),a=t(65)("toStringTag");e.exports=function(e,n,t){e&&!o(e=t?e:e.prototype,a)&&i(e,a,{configurable:!0,value:n})}},function(e,n,t){var i=t(60)("wks"),o=t(61),a=t(31).Symbol,r="function"==typeof a,c=e.exports=function(e){return i[e]||(i[e]=r&&a[e]||(r?a:o)("Symbol."+e))};c.store=i},function(e,n,t){var i=t(46),o=t(67),a=t(59)("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},function(e,n,t){var i=t(27);e.exports=function(e){return Object(i(e))}},function(e,n,t){t(69);for(var i=t(31),o=t(35),a=t(47),r=t(65)("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var d=c[s],l=i[d],u=l&&l.prototype;u&&!u[r]&&o(u,r,d),a[d]=a.Array}},function(e,n,t){"use strict";var i=t(70),o=t(71),a=t(47),r=t(53);e.exports=t(28)(Array,"Array",function(e,n){this._t=r(e),this._i=0,this._k=n},function(){var e=this._t,n=this._k,t=this._i++;return!e||t>=e.length?(this._t=void 0,o(1)):"keys"==n?o(0,t):"values"==n?o(0,e[t]):o(0,[t,e[t]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,n){e.exports=function(){}},function(e,n){e.exports=function(e,n){return{value:n,done:!!e}}},function(e,n,t){n.f=t(65)},function(e,n,t){e.exports={"default":t(74),__esModule:!0}},function(e,n,t){t(75),t(86),t(87),t(88),e.exports=t(32).Symbol},function(e,n,t){"use strict";var i=t(31),o=t(46),a=t(40),r=t(30),c=t(45),s=t(76).KEY,d=t(41),l=t(60),u=t(64),f=t(61),h=t(65),p=t(72),m=t(77),v=t(78),g=t(79),y=t(82),w=t(37),b=t(53),_=t(43),$=t(44),x=t(49),k=t(83),C=t(85),j=t(36),I=t(51),M=C.f,S=j.f,q=k.f,E=i.Symbol,O=i.JSON,D=O&&O.stringify,N="prototype",T=h("_hidden"),A=h("toPrimitive"),P={}.propertyIsEnumerable,H=l("symbol-registry"),R=l("symbols"),L=l("op-symbols"),F=Object[N],z="function"==typeof E,V=i.QObject,W=!V||!V[N]||!V[N].findChild,U=a&&d(function(){return 7!=x(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,n,t){var i=M(F,n);i&&delete F[n],S(e,n,t),i&&e!==F&&S(F,n,i)}:S,B=function(e){var n=R[e]=x(E[N]);return n._k=e,n},Y=z&&"symbol"==typeof E.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof E},K=function(e,n,t){return e===F&&K(L,n,t),w(e),n=_(n,!0),w(t),o(R,n)?(t.enumerable?(o(e,T)&&e[T][n]&&(e[T][n]=!1),t=x(t,{enumerable:$(0,!1)})):(o(e,T)||S(e,T,$(1,{})),e[T][n]=!0),U(e,n,t)):S(e,n,t)},J=function(e,n){w(e);for(var t,i=g(n=b(n)),o=0,a=i.length;a>o;)K(e,t=i[o++],n[t]);return e},Q=function(e,n){return void 0===n?x(e):J(x(e),n)},X=function(e){var n=P.call(this,e=_(e,!0));return!(this===F&&o(R,e)&&!o(L,e))&&(!(n||!o(this,e)||!o(R,e)||o(this,T)&&this[T][e])||n)},G=function(e,n){if(e=b(e),n=_(n,!0),e!==F||!o(R,n)||o(L,n)){var t=M(e,n);return!t||!o(R,n)||o(e,T)&&e[T][n]||(t.enumerable=!0),t}},Z=function(e){for(var n,t=q(b(e)),i=[],a=0;t.length>a;)o(R,n=t[a++])||n==T||n==s||i.push(n);return i},ee=function(e){for(var n,t=e===F,i=q(t?L:b(e)),a=[],r=0;i.length>r;)!o(R,n=i[r++])||t&&!o(F,n)||a.push(R[n]);return a};z||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),n=function(t){this===F&&n.call(L,t),o(this,T)&&o(this[T],e)&&(this[T][e]=!1),U(this,e,$(1,t))};return a&&W&&U(F,e,{configurable:!0,set:n}),B(e)},c(E[N],"toString",function(){return this._k}),C.f=G,j.f=K,t(84).f=k.f=Z,t(81).f=X,t(80).f=ee,a&&!t(29)&&c(F,"propertyIsEnumerable",X,!0),p.f=function(e){return B(h(e))}),r(r.G+r.W+r.F*!z,{Symbol:E});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ne.length>te;)h(ne[te++]);for(var ne=I(h.store),te=0;ne.length>te;)m(ne[te++]);r(r.S+r.F*!z,"Symbol",{"for":function(e){return o(H,e+="")?H[e]:H[e]=E(e)},keyFor:function(e){if(Y(e))return v(H,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),r(r.S+r.F*!z,"Object",{create:Q,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:G,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),O&&r(r.S+r.F*(!z||d(function(){var e=E();return"[null]"!=D([e])||"{}"!=D({
a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var n,t,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);return n=i[1],"function"==typeof n&&(t=n),!t&&y(n)||(n=function(e,n){if(t&&(n=t.call(this,e,n)),!Y(n))return n}),i[1]=n,D.apply(O,i)}}}),E[N][A]||t(35)(E[N],A,E[N].valueOf),u(E,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},function(e,n,t){var i=t(61)("meta"),o=t(38),a=t(46),r=t(36).f,c=0,s=Object.isExtensible||function(){return!0},d=!t(41)(function(){return s(Object.preventExtensions({}))}),l=function(e){r(e,i,{value:{i:"O"+ ++c,w:{}}})},u=function(e,n){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!s(e))return"F";if(!n)return"E";l(e)}return e[i].i},f=function(e,n){if(!a(e,i)){if(!s(e))return!0;if(!n)return!1;l(e)}return e[i].w},h=function(e){return d&&p.NEED&&s(e)&&!a(e,i)&&l(e),e},p=e.exports={KEY:i,NEED:!1,fastKey:u,getWeak:f,onFreeze:h}},function(e,n,t){var i=t(31),o=t(32),a=t(29),r=t(72),c=t(36).f;e.exports=function(e){var n=o.Symbol||(o.Symbol=a?{}:i.Symbol||{});"_"==e.charAt(0)||e in n||c(n,e,{value:r.f(e)})}},function(e,n,t){var i=t(51),o=t(53);e.exports=function(e,n){for(var t,a=o(e),r=i(a),c=r.length,s=0;c>s;)if(a[t=r[s++]]===n)return t}},function(e,n,t){var i=t(51),o=t(80),a=t(81);e.exports=function(e){var n=i(e),t=o.f;if(t)for(var r,c=t(e),s=a.f,d=0;c.length>d;)s.call(e,r=c[d++])&&n.push(r);return n}},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n){n.f={}.propertyIsEnumerable},function(e,n,t){var i=t(55);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,n,t){var i=t(53),o=t(84).f,a={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(n){return r.slice()}};e.exports.f=function(e){return r&&"[object Window]"==a.call(e)?c(e):o(i(e))}},function(e,n,t){var i=t(52),o=t(62).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return i(e,o)}},function(e,n,t){var i=t(81),o=t(44),a=t(53),r=t(43),c=t(46),s=t(39),d=Object.getOwnPropertyDescriptor;n.f=t(40)?d:function(e,n){if(e=a(e),n=r(n,!0),s)try{return d(e,n)}catch(t){}if(c(e,n))return o(!i.f.call(e,n),e[n])}},function(e,n){},function(e,n,t){t(77)("asyncIterator")},function(e,n,t){t(77)("observable")},function(e,n){"use strict";n.__esModule=!0,n["default"]=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var o=t(91),a=i(o);n["default"]=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,a["default"])(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}()},function(e,n,t){e.exports={"default":t(92),__esModule:!0}},function(e,n,t){t(93);var i=t(32).Object;e.exports=function(e,n,t){return i.defineProperty(e,n,t)}},function(e,n,t){var i=t(30);i(i.S+i.F*!t(40),"Object",{defineProperty:t(36).f})},function(e,n,t){"use strict";t(18);t(95),t(98),t(99),t(100),t(101),$(".mask").length<1&&$("body").append('<div class="mask"></div>'),$(document).on("click",".js-to-login",function(){yidian.showLogin()})},function(e,n){},,,function(e,n,t){"use strict";var i=t(18),o=t(16),a=(document.cookie.match(/wuid=([^;$]*)/)&&document.cookie.match(/wuid=([^;$]*)/)[1]||"","https://api.weibo.com/oauth2/authorize?client_id=1290308714&redirect_uri="+encodeURIComponent("http://www.yidianzixun.com/home?page=index-weibo&callback="+encodeURIComponent(location.href))),r="https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=100468103&state=yidian&redirect_uri="+encodeURIComponent("http://www.yidianzixun.com/home?page=index-qq&callback="+encodeURIComponent(location.href)),c="https://account.xiaomi.com/oauth2/authorize?client_id=2882303761517118382&response_type=code&redirect_uri="+encodeURIComponent("http://www.yidianzixun.com/home?page=index-xiaomi&callback="+encodeURIComponent(location.href)),s="https://open.weixin.qq.com/connect/qrconnect?appid=wx9a0b25d53c37ed77&redirect_uri="+encodeURIComponent("http://www.yidianzixun.com/home?page=index-weixin&callback="+encodeURIComponent(location.href))+"&response_type=code&scope=snsapi_login&state=12345#wechat_redirect",d="\n<div class='dialog login-register-dialog login-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='logo iconfont icon-logo'></div>\n  <form class='login-form'>\n    <div class='input-box input-username-box'>\n      <input type='text' class='input-username' name='username' placeholder='手机号/邮箱'/>\n    </div>\n    <div class='input-box input-password-box'>\n      <input type='password' class='input-password' name='psw' placeholder='密码'/>\n    </div>\n    <p class='error-msg'></p>\n    <button type='submit' class='btn-login'>登录</button>\n    <button type='button' class='btn-has-border btn-register'>注册</button>\n  </form>\n  <p class='link-wrapper'>\n    <a class='to-login-mobile'>手机快捷登录</a>\n    <a class='forget-psw'>忘记密码</a>\n  <p>\n  \n  <hr/>\n  <p class='third-party-title'>第三方平台登录</p>\n  <div class='third-party-box'>\n    <a class='iconfont icon-weibo' href=\""+a+"\" target='_blank'></a>\n    <a class='iconfont icon-qq' href=\""+r+"\" target='_blank'></a>\n    <a class='iconfont icon-weixin' href=\""+s+"\" target='_blank'></a>\n    <a class='iconfont icon-mi' href=\""+c+"\" target='_blank'></a>\n  </div>\n</div>\n",l="\n<div class='dialog login-register-dialog login-mobile-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='logo iconfont icon-logo'></div>\n  <form class='login-mobile-form'>\n    <div class='input-box input-username-box'>\n      <input type='text' class='input-phone' name='phone' placeholder='手机号'/>\n    </div>\n    <div class='input-box input-image-verification-code-box'>\n      <input type='text' class='input-image-verification-code' name='image-verification-code' placeholder='验证码'/>\n      <div class='verification-code'>\n        <img src='' class='image-verification-code'/>\n      </div>\n    </div>\n    <div class='input-box input-phone-verification-code-box'>\n      <input type='text' class='input-phone-verification-code' name='phone-verification-code' placeholder='手机验证码'/>\n      <div class='verification-code'>\n        <button type='button' class='btn-get-verification-code'>发送验证码</button>\n      </div>\n    </div>    \n    <p class='error-msg'></p>\n    <button type='submit' class='btn-login'>登录</button>\n  </form>\n  <p class='link-wrapper'>\n    <a class='to-login'>账号密码登录</a>\n  <p>\n  <hr/>\n  <p class='third-party-title'>第三方平台登录</p>\n  <div class='third-party-box'>\n    <a class='iconfont icon-weibo' href=\""+a+"\" target='_blank'></a>\n    <a class='iconfont icon-qq' href=\""+r+"\" target='_blank'></a>\n    <a class='iconfont icon-weixin' href=\""+s+"\" target='_blank'></a>\n    <a class='iconfont icon-mi' href=\""+c+"\" target='_blank'></a>\n  </div>\n</div>\n";$("body").append(d),$("body").append(l),$(".login-dialog .btn-register").click(function(){yidian.showDialog(".phone-register-dialog")}),$(".login-dialog .to-login-mobile").click(function(){yidian.showDialog(".login-mobile-dialog")}),$(".login-dialog .forget-psw, .login-mobile-dialog .forget-psw").click(function(){yidian.showDialog(".forget-password-dialog")}),$(".login-form").form_validate({$error:$(".login-form .error-msg"),fields:{username:["username"],psw:["password"]},onsubmit:function(e){var n=function t(){i.queryjs.login(e.username,e.psw,function(n){n&&"success"===n.status?($(window).trigger("login:loginSuccess"),location.reload()):n&&31==n.code?$(".login-form .error-msg").html((0,o.getErrorMessageHtml)("用户名或密码错误")):n&&245==n.code&&n.reason?(e.username=n.reason,t()):n&&n.reason&&$(".login-form .error-msg").html((0,o.getErrorMessageHtml)(n.reason))})};n()}});$(".login-mobile-dialog");$(".login-mobile-dialog .input-image-verification-code-box .verification-code img").on("click",function(){yidian.getCaptcha($(this))}),$(".login-mobile-dialog .to-login").click(function(){yidian.showDialog(".login-dialog")}),$(".login-mobile-form").form_validate({$error:$(".login-mobile-form .error-msg"),fields:{phone:["phone"],"image-verification-code":["verification-code"],"phone-verification-code":["verification-code"]},phoneVerificationBtn:".login-mobile-dialog .btn-get-verification-code",getVerificationCode:function(e,n){if(!e["image-verification-code"])return $(".login-mobile-dialog .btn-get-verification-code").removeClass("waiting"),$(".login-mobile-form .error-msg").html((0,o.getErrorMessageHtml)("请输入图片验证码"));var t={mobile:"86"+e.phone,appid:"yidian",captcha:e["image-verification-code"],deviceid:yidian.getDeviceId()};$.get("/home/q/mobile_verify",t,function(e){e&&220==e.code&&(e.reason="请输入正确的图片验证码",yidian.getCaptcha($(".login-mobile-dialog .input-image-verification-code-box .verification-code img"))),n&&n(e)})},onsubmit:function(e){i.queryjs.mobile_quick_login(e.phone,yidian.getDeviceId(),e["phone-verification-code"],function(e){e&&"success"===e.status?($(window).trigger("mobileQuickLogin:loginSuccess"),location.reload()):e&&e.reason&&$(".login-mobile-form .error-msg").html((0,o.getErrorMessageHtml)(e.reason))})}})},function(e,n,t){"use strict";var i=t(18),o=t(16),a="\n<div class='dialog login-register-dialog email-register-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='logo iconfont icon-logo'></div>\n  <form class='email-register-form'>\n    <div class='input-box input-email-box'>\n      <input type='text' class='input-email' name='email' placeholder='请输入邮箱账号'/>\n    </div>\n    <div class='input-box input-password-box'>\n      <input type='password' class='input-password' name='psw' placeholder='请输入密码'/>\n      <span class='iconfont icon-see'></span>\n    </div>\n    <div class='input-box input-image-verification-code-box'>\n      <input type='text' class='input-image-verification-code' name='verification-code' placeholder='请输入验证码'/>\n      <div class='verification-code'>\n        <img src='/captcha'/>\n      </div>\n    </div>\n    <p class='error-msg'></p>\n    <button type='submit' class='btn-register'>注册</button>\n  </form>\n  <p class='declare'>点击注册按钮，即表示你同意<a href='http://www.yidianzixun.com/landing_agreement' target=\"_blank\">《一点资讯用户协议》</a></p>\n  <p class='link-wrapper'>\n    <a class='link to-phone-register'>使用手机号注册</a>\n    <a class='link to-login'>已有账号</a>\n  </p>\n</div>\n",r="\n<div class='dialog login-register-dialog email-verify-dialog register'>\n  <div class='close iconfont icon-close'></div>\n  <div class='email-verify-image'></div>\n  <p>恭喜您注册成功，请登录邮箱激活账号</p>\n  <form class='email-verify-form' data-email=<%=email%>>\n    <button type='submit' class='btn-submit'>去激活</button>\n  </form>\n</div>\n";$("body").append(a),$(".email-register-dialog .to-phone-register").click(function(){yidian.showDialog(".phone-register-dialog")}),$(".email-register-dialog .to-login").click(function(){yidian.showDialog(".login-dialog")}),$(".email-register-dialog .verification-code").click(function(){$(this).find("img").attr("src","/captcha?_t="+ +new Date)}),$("body").on("submit",".email-verify-form.register",function(e){e=e||window.event,e.preventDefault();var n=$(this).attr("data-email"),t=n.split("@")[1];window.open("http://mail."+t,"_blank"),yidian.hideDialog()}),$(".email-register-form").form_validate({$error:$(".email-register-form .error-msg"),fields:{email:["email"],psw:["password"],"verification-code":["verification-code"]},onsubmit:function(e){i.queryjs.emailRegister(e.email,e.psw,e["verification-code"],function(n){!n||"success"!==n.status&&221!=n.code?n&&n.reason&&$(".email-register-form .error-msg").html((0,o.getErrorMessageHtml)(n.reason)):($(window).trigger("emailRegister:success"),yidian.hideDialog(".email-register-dialog"),$(".email-verify-dialog.register").remove(),$("body").append(ejs.render(r,{email:e.email})),yidian.showDialog(".email-verify-dialog.register"))})}})},function(e,n,t){"use strict";var i=t(18),o=t(16),a="\n<div class='dialog login-register-dialog phone-register-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='logo iconfont icon-logo'></div>\n  <form class='phone-register-form'>\n    <div class='input-box input-phone-box'>\n      <input type='text' class='input-phone' name='phone' placeholder='请输入手机号'/>\n    </div>\n    <div class='input-box input-password-box'>\n      <input type='password' class='input-password' name='psw' placeholder='请输入密码'/>\n      <span class='iconfont icon-see'></span>\n    </div>\n    <div class='input-box input-phone-verification-code-box'>\n      <input type='text' class='input-phone-verification-code' name='phone-verification-code' placeholder='请输入验证码'/>\n      <div class='verification-code'>\n        <button type='button' class='btn-get-verification-code'>发送验证码</button>\n      </div>\n    </div>\n    <p class='error-msg'></p>\n    <button type='submit' class='btn-register'>注册</button>\n  </form>\n  <p class='declare'>点击注册按钮，即表示你同意<a href='http://www.yidianzixun.com/landing_agreement' target=\"_blank\">《一点资讯用户协议》</a></p>\n  <p class='link-wrapper'>\n    <a class='link to-email-register'>使用邮箱注册</a>\n    <a class='link to-login'>已有账号</a>\n  </p>\n</div>\n";$("body").append(a),$(".phone-register-dialog .to-email-register").click(function(){yidian.showDialog(".email-register-dialog")}),$(".phone-register-dialog .to-login").click(function(){yidian.showDialog(".login-dialog")}),$(".phone-register-form").form_validate({$error:$(".phone-register-form .error-msg"),fields:{phone:["phone"],psw:["password"],"phone-verification-code":["verification-code"]},phoneVerificationBtn:".phone-register-dialog .btn-get-verification-code",getVerificationCode:function(e,n){var t={mobile:"86"+e.phone,appid:"yidian",deviceid:document.cookie.match(/wuid=([^;$]*)/)&&document.cookie.match(/wuid=([^;$]*)/)[1]||""};$.get("/home/q/mobile_verify",t,function(e){n&&n(e)})},onsubmit:function(e){var n=document.cookie.match(/wuid=([^;$]*)/)&&document.cookie.match(/wuid=([^;$]*)/)[1]||"";i.queryjs.mobileRegister(n,"86"+e.phone,e.psw,e["phone-verification-code"],function(e){e&&"success"==e.status?($(window).trigger("phoneRegister:success"),location.reload()):e&&e.reason&&$(".phone-register-form .error-msg").html((0,o.getErrorMessageHtml)(e.reason))})}})},function(e,n,t){"use strict";var i=t(18),o=t(16),a="\n<div class='dialog login-register-dialog forget-password-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='logo iconfont icon-logo'></div>\n  <form class='forget-password-form'>\n    <div class='input-box input-username-box'>\n      <input type='text' class='input-username' name='username' placeholder='请输入手机号/邮箱账号'/>\n    </div>\n    <p class='error-msg'></p>\n    <button type='submit' class='btn-ok'>发送</button>\n  </form>\n  <a class='link to-login'>返回登录</a>\n</div>\n",r="\n<div class='dialog login-register-dialog email-verify-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='email-verify-image'></div>\n  <p>邮件已发送至<%=email%>，请登录邮箱重置密码</p>\n  <form class='email-verify-form' data-email=<%=email%>>\n    <button type='submit' class='btn-submit'>去重置</button>\n  </form>\n</div>\n",c="\n<div class='dialog login-register-dialog phone-verify-dialog'>\n  <div class='close iconfont icon-close'></div>\n  <div class='logo iconfont icon-logo'></div>\n  <form class='phone-verify-form'>\n    <div class='input-box input-phone-box'>\n      <input type='text' class='input-phone' name='phone' placeholder='请输入手机号'/>\n    </div>\n    <div class='input-box input-verification-code-box'>\n      <input type='text' class='input-verification-code' name='verification-code' placeholder='请输入验证码'/>\n      <div class='verification-code'>\n        <button type='button' class='btn-get-verification-code btn-has-border'>发送验证码</button>\n      </div>\n    </div>\n    <div class='input-box input-new-password-box'>\n      <input type='password' class='input-new-password' name='password' placeholder='请输入新密码'/>\n      <span class='iconfont icon-see'></span>\n    </div>\n    <p class='error-msg'></p>\n    <button type='submit' class='btn-ok'>确认</button>\n  </form>\n  <a class='link to-login'>返回登录</a>\n</div>\n";$("body").append(a),$("body").append(c),$(".forget-password-dialog .to-login, .phone-verify-dialog .to-login, .input-new-password-dialog .to-login").click(function(){yidian.showDialog(".login-dialog")}),$(".forget-password-form").form_validate({$error:$(".forget-password-form .error-msg"),fields:{username:["username"]},onsubmit:function(e){var n=e.username;/^\d{11}$/.test(n)?(yidian.showDialog(".phone-verify-dialog"),$(".phone-verify-dialog .input-phone").val(n),$(".phone-verify-dialog .input-phone").trigger("input"),$(".phone-verify-dialog .btn-get-verification-code").trigger("click")):i.queryjs.resetPassword({username:n},function(e){if(e&&"success"==e.status)$(".email-verify-dialog").remove(),$("body").append(ejs.render(r,{email:n})),yidian.showDialog(".email-verify-dialog");else{var t=e&&e.reason||"请求失败，请稍后再试";$(".forget-password-form .error-msg").html((0,o.getErrorMessageHtml)(t))}})}}),$("body").on("submit",".email-verify-form",function(e){e=e||window.event,e.preventDefault();var n=$(this).attr("data-email"),t=n.split("@")[1];window.open("http://mail."+t,"_blank"),yidian.hideDialog()}),$(".phone-verify-form").form_validate({$error:$(".phone-verify-form .error-msg"),fields:{phone:["phone"],"verification-code":["verification-code"],password:["password"]},phoneVerificationBtn:".phone-verify-form .btn-get-verification-code",getVerificationCode:function(e,n){var t={username:"86"+e.phone,appid:"yidian"};$.get("/home/q/reset_password",t,function(e){n&&n(e)})},onsubmit:function(e){var n="86"+e.phone,t=e["verification-code"],a=e.password,r=function c(){i.queryjs.resetPassword({username:n,code:t,password:a},function(e){e&&0==e.code?yidian.toast("重置密码成功！请重新登录",function(){yidian.showDialog(".login-dialog")}):e&&245==e.code&&e.reason?(n=e.reason,c()):$(".phone-verify-dialog .error-msg").html((0,o.getErrorMessageHtml)(e.reason))})};r()}})},function(e,n,t){"use strict";t(103),t(106),t(107);var i=$(".header-channel-nav"),o=132,a=!1;$(window).on("resize",function(){o=$(window).width()>1500?132:108}),i.hasClass("js-header-can-switch")&&$(window).on("scroll",function(e){if(!i.hasClass("locked")&&!$(".channel-edit-panel").hasClass("active")){var n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;n>o?a||($(".header-channel-nav .header-links").css("overflow","hidden"),i.addClass("header-mini"),a=!0,setTimeout(function(){$(".header-channel-nav .header-links").css("overflow","")},300)):(a=!1,i.removeClass("header-mini"))}}),$(".channel-nav .list").on("click",".item",function(e){e=e||window.event,$(this).hasClass("active")&&(e.preventDefault(),$(window).trigger("refresh"))}),$(".user-info-box").each(function(){$.mouseOverShow($(".user-info",this),$(".user-info-menu",this))}),$(".logout-btn").click(function(){yidian.queryjs.logout(function(e){e&&"success"==e.status&&yidian.toast("退出登录",function(){location.reload()})})})},function(e,n){},,,function(e,n,t){"use strict";function i(e){e=e||window.event,$(e.target).closest(".suggestion-search-box").length||($(".suggestion").removeClass("active"),$(".suggestion-search-box").each(function(){var e=$(this).find(".input-search"),n=e.val();n||e.attr("placeholder",e.attr("data-placeholder"))})),$(e.target).closest(".header-channel-nav .input-search, .header-channel-nav .btn-search").length||$(".header-channel-nav .header-links").removeClass("input-expanded")}function o(e){e=e||window.event;var n=($(e.target),$(e.target).closest(".suggestion-search-box")),t=$(".suggestion.active .item.active",n);if(t.length)var i=t.prev(".item"),o=t.next(".item");else i=$(".suggestion.active .item",n).last(),o=$(".suggestion.active .item",n).first();return 38==e.keyCode&&(e.preventDefault(),t.removeClass("active"),i.addClass("active")),40==e.keyCode&&(e.preventDefault(),t.removeClass("active"),o.addClass("active")),13==e.keyCode&&(e.preventDefault(),a(n)),!0}function a(e){var n=$(".suggestion.active .item.active",e),t=$(".input-search",e);if(n.length)location.href=n.attr("href");else if(t.val()){var i=t.val();location.href="/channel/w/"+encodeURIComponent(i)+"?searchword="+encodeURIComponent(i)}else t.attr("placeholder")&&(i=t.attr("placeholder").replace("大家都在搜:",""),location.href="/channel/w/"+encodeURIComponent(i)+"?searchword="+encodeURIComponent(i))}function r(e){if(e=e||window.event,!e||38!=e.keyCode&&40!=e.keyCode&&13!=e.keyCode){var n=e.target,t=$(n),i=t.closest(".suggestion-search-box"),o=t.attr("placeholder");o&&t.attr("data-placeholder",o),t.attr("placeholder","");var a=t.val();a?c.queryjs.searchChannel(a,function(e){if(a===t.val()&&e.channels&&e.channels.length){var n=ejs.render(d,{channels:e.channels.slice(0,15)});$(".search-result-suggestion",i).length?$(".search-result-suggestion",i).replaceWith(n):t.after(n),$(".hot-search-suggestion",i).removeClass("active"),$(".search-result-suggestion",i).addClass("active")}}):($(".hot-search-suggestion",i).addClass("active"),$(".search-result-suggestion",i).removeClass("active"))}}var c=t(18),s='\n<div class="suggestion hot-search-suggestion">\n  <div class=\'inner-block-box\'>\n    <%for(var i=0; i<keywords.length; i++) {\n      var href = \'/channel/w/\' + keywords[i].name + \'?searchword=\' + encodeURI(keywords[i].name);\n    %>\n      <a class="item item-<%=i+1%>" href=\'<%=href%>\'>\n        <div class="float-left index icon iconfont icon-<%=i+1%>"></div>\n        <div class="item-content">\n          <div class="hot-search-word"><%=keywords[i].name%></div>\n        </div>\n      </a>\n    <%} %>\n  </div>\n</div>\n',d="\n<div class=\"suggestion search-result-suggestion\">\n  <div class='inner-block-box'>\n    <%for(var i=0; i<channels.length; i++) {\n        var channel = channels[i];\n        var imgUrl = channel.image ? \"http://i1.go2yd.com/image.php?type=thumbnail_100x100&url=\"+ channel.image : 'http://si1.go2yd.com/get-image/08nNnXLrpB2';\n        var href = channel.fromId ? '/channel/'+channel.fromId : '/channel/w/'+channel.name;\n        var mediaClass = channel.type == 'media' ? ' item-media' : '';\n        var keyword = '?searchword='+encodeURI(channel.name)+'';\n      %>\n      <a class=\"item item-<%=i+1%><%=mediaClass%>\" href='<%=href+keyword%>'>\n        <img class=\"float-left channel-img\" src=\"<%=imgUrl%>\"/>\n        <div class=\"float-right channel-bookcount\"><%=channel.bookcount || ''%></div>\n        <div class=\"item-content\">\n          <span class=\"channel-name\"><%=channel.name%></span>\n          <%if(channel.type=='media') {%>\n            <span class=\"label-imedia iconfont icon-yidianhaoxiao\"></span>\n          <%} %>\n        </div>\n      </a>\n    <%} %>\n  </div>\n</div>\n",l=$(".suggestion-search-box .input-search");c.queryjs.getHotSearchKeywords(function(e){if(e&&e.keywords&&e.keywords.length){var n=(e.keywords,ejs.render(s,{keywords:e.keywords.slice(0,8)}));l.after(n),l.attr("data-placeholder","大家都在搜:"+e.keywords[0].name),l.attr("placeholder")&&l.attr("placeholder","大家都在搜:"+e.keywords[0].name)}}),l.on({focus:r,keyup:r,keydown:o}),$(document).on("click",i),$(document).on("click",".hot-search-suggestion .item",function(e){var n=$(this).find(".hot-search-word").text();return l.attr("placeholder",n),!0}),$(".header-search .btn-search").click(function(e){var n=$(this).siblings(".suggestion-search-box");a(n)}),$(".header-channel-nav .btn-search").click(function(e){var n=$(this),t=n.parent().find(".input-search"),i=t.parent();n.parent().hasClass("input-expanded")?a(i):n.parent().addClass("input-expanded")})},function(e,n,t){"use strict";function i(e){if($(e.target).closest(".header-mini").length)var n={position:"fixed",top:$(e.target).closest(".channel-nav").height()+1,left:$(e.target).closest(".content").offset().left,width:1080};else n={position:"absolute",top:$(e.target).closest(".channel-nav").offset().top+55,left:$(e.target).closest(".channel-nav").offset().left,width:1080};if($(".channel-edit-panel").length)$(".channel-edit-panel").css(n);else{var t=ejs.render(f,{channels:yidian.docinfo.user_info.user_channels});$("body").append($(t).css(n).addClass("active")),$(".channel-edit-panel .item.channel-item").not(".cant-edit").dragsort({dragBefore:function(e){return $(".channel-edit-panel").hasClass("editing")&&!$(e.target).hasClass("delete")},dragEnd:function(e){h.channelSorted=!0}}),$.mouseoutHide($(".channel-edit-panel"),function(e){$(".channel-edit-panel").hasClass("editing")||a()})}$(e.target).closest(".channel-nav").hasClass("expanded")?a():o()}function o(){$(".channel-edit-panel").addClass("active"),$(".channel-nav").addClass("expanded")}function a(){$(".channel-edit-panel").removeClass("active"),$(".header-channel-nav").removeClass("locked"),$(".channel-nav").removeClass("expanded"),$(window).trigger("scroll")}function r(e){e=e||window.event,$(e.target).closest(".channel-edit-panel").length||e.target===$(".channel-nav .down")[0]||a()}function c(e){yidian.filter.loginFilter()&&($(".channel-edit-panel").addClass("editing"),$(".header-channel-nav").addClass("locked"),$(".channel-edit-panel .channel-item").not(".cant-edit").each(function(e,n){h.channelArray.push($(n).attr("data-channelid"))}))}function s(e){var n=[];if($(".channel-edit-panel").removeClass("editing"),$(".channel-edit-panel .channel-item").not(".cant-edit").each(function(e,t){n.push($(t).attr("data-channelid"))}),n.join("")!==h.channelArray.join("")){var t={group_id:yidian.docinfo.user_info.group_id,order:n};u.queryjs.groupSetOrder(t,function(e){e&&e.channels?(e.channels=yidian.docinfo.user_info.user_channels.slice(0,2).concat(e.channels),yidian.userChannelsVM.setChannels(e.channels),h.channelSorted=!1):yidian.toast("服务器忙，稍等再试！")})}}function d(e){e=e||window.event,e.preventDefault();var n=$(this).closest(".item").attr("data-channelid");yidian.unsubscribeChannel(n)}function l(e){if(e=e||window.event,e.preventDefault(),!$(e.target).closest(".channel-edit-panel").hasClass("editing")){var n=$(e.target).closest(".channel-item");if(n.hasClass("active"))$(window).trigger("refresh");else{var t=$(this).attr("href");window.location.href=t}}}var u=t(18),f="\n<div class='channel-edit-panel'>\n  <%for(var i=0; i<channels.length; i++) {\n    var c = channels[i];\n    var cantEditClass = c.cantEdit ? ' cant-edit' : '';\n    var activeClass = c.is_current ? ' active' : ''\n    var href = c.type == 'url' && c.url ? c.url : c.fromId ? '/channel/' + c.fromId : '/channel/w/' + c.name;\n  %>\n    <a class='item channel-item<%=cantEditClass%><%=activeClass%>' href='<%=href%>' data-channelid = '<%=c.channel_id%>'> \n      <button><%=c.name%></button>\n      <span class='delete iconfont icon-delete'></span>\n    </a>\n  <%} %>\n  <a class='item more' href='/channellist'>\n    <button>更多</button>\n  </a>\n  <div class='item edit'>\n    <button>编辑</button>\n  </div>\n  <div class='item complete'>\n    <button>完成</button>\n  </div>\n</div>\n",h={channelSorted:!1,channelArray:[]};$(".channel-nav .down").click(i),$(document).on("click",r),$(document).on("click",".channel-edit-panel .edit",c),$(document).on("click",".channel-edit-panel .complete",s),$(document).on("click",".channel-edit-panel .delete",d),$(document).on("click",".channel-edit-panel .channel-item",l)},function(e,n){"use strict";var t={".header-search .link-download":["_trackEvent","download","click","pc header-search"],".header-search .link-ydhao":["_trackEvent","mp","click","pc header-search"],".header-mini .link-ydhao":["_trackEvent","mp","click","pc header-mini"],".widget-about-yidian .yd-hao":["_trackEvent","mp","click","pc widget-about-yidian"],".login-mobile-dialog .btn-get-verification-code":["_trackEvent","getVerificationCode","click","pc mobile-quick-login"],".login-dialog .btn-login":["_trackEvent","login","click","pc account-psw-login"],".login-mobile-dialog .btn-login":["_trackEvent","login","click","pc mobile-quick-login"],".login-register-dialog .forget-psw":["_trackEvent","forgetPsw","click","pc"],".login-dialog .btn-register":["_trackEvent","register","click","pc"],".login-register-dialog .third-party-box .icon-weibo":["_trackEvent","thirdPartyLogin","click","pc weibo"],".login-register-dialog .third-party-box .icon-qq":["_trackEvent","thirdPartyLogin","click","pc qq"],".login-register-dialog .third-party-box .icon-mi":["_trackEvent","thirdPartyLogin","click","pc mi"]},i={"mobileQuickLogin:loginSuccess":["_trackEvent","login","loginSuccess","pc mobile-quick-login"],"login:loginSuccess":["_trackEvent","login","loginSuccess","pc account-psw-login"],"emailRegister:success":["_trackEvent","register","registerSuccess","pc email-register"],"phoneRegister:success":["_trackEvent","register","registerSuccess","pc phone-register"]};$(document).on("click",function(e){if(window._hmt&&"function"==typeof window._hmt.push){e=e||window.event;var n=$(e.target);for(var i in t)if(n.closest(i).length)return"function"==typeof t[i]?t[i].apply(n.closest(i),arguments):t[i]instanceof Array&&_hmt.push(t[i]),!0}});for(var o in i)!function(e){$(window).on(e,function(){window._hmt&&"function"==typeof window._hmt.push&&("function"==typeof i[e]?i[e].apply(window,arguments):i[e]instanceof Array&&_hmt.push(i[e]))})}(o)},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o,a,r,c,s,d,l,u=t(110),f=i(u);r=function(){var e,n,t,i,o,a,r;return e=new Date,r=e.getFullYear(),o=e.getMonth()+1,o=o<=9?"0"+o:o,n=e.getDate()<=9?"0"+e.getDate():e.getDate(),t=e.getHours()<9?"0"+e.getHours():e.getHours(),i=e.getMinutes()<9?"0"+e.getMinutes():e.getMinutes(),a=e.getSeconds()<9?"0"+e.getSeconds():e.getSeconds(),r+"-"+o+"-"+n+" "+t+":"+i+":"+a};var h=document.cookie.match(/(^|;\s*)wuid=([^;$]*)/),p=h&&h[2]||"",h=document.cookie.match(/(^|;\s*)wuid_createAt=([^;$]*)/),m=h&&h[2]||"";p&&m||(p=Math.floor(1e15*Math.random()),m=r(),document.cookie="wuid="+p+";domain=.yidianzixun.com;path=/;max-age=86400000",document.cookie="wuid_createAt="+m+";domain=.yidianzixun.com;path=/;max-age=86400000"),d=yidian.docinfo.query.s||"";var v=yidian.docinfo.user_info.utk||yidian.docinfo.query.utk||"";o={8:"WEIXIN_MOMENTS",3:"WEIXIN_FRIENDS",9:"QQ",10:"QQ_SPACE",1:"WEIBO",4:"EMAIL",5:"QQ_WEIBO",11:"MI_LIAO",6:"SMS",webapp:"WEBAPP",traffic:"MARKET_PROMOTION",mb:"FEEDS",oppobrowser:"FEEDS",cmbrowser:"FEEDS","mb,mb":"FEEDS",misafe:"CHANNEL_CO",ks_office:"CHANNEL_CO",wfbl:"CHANNEL_CO",2345:"CHANNEL_CO",ifeng:"CHANNEL_CO",mirili:"CHANNEL_CO",uccity:"CHANNEL_CO",kh:"CHANNEL_CO",delong:"CHANNEL_CO",sogou:"CHANNEL_CO",tianqi:"CHANNEL_CO",zapya:"CHANNEL_CO",baiduyisheng:"CHANNEL_CO",origin:"OTHER",0:"OTHER",co:"THIRD_PARTY","":"SEARCH"},c={log_version:1,browser_user_agent:navigator.userAgent,browser_type:"OTHER_B",action_timestamp_ms:Date.now(),action_source:{page:"PageWapDocument",card:"CardWapDocument"},uid:{wuid:p,refer_uid:v,bucket_id:0},app_meta:{build_number:yidian.docinfo.query.ver||"",platform:"WEB",app_id:yidian.docinfo.query.appid||""},refer_social:o[d]||"SOCIAL_UNKNOWN",ui_method:"UI_CLICK",context:{refer_url:document.referrer}},s="//rl.go2yd.com/web_raw?utk="+v+"&type=pc",yidian.docinfo.is_test&&(s="http://10.111.0.59:8880/sendwaplog?utk="+v+"&type=pc"),l=function(e,n){var t;return e=e||{},t=$.extend(!0,{},c,e),$.ajax({url:s,type:"post",data:(0,f["default"])(t),contentType:"application/json",timeout:2e3,complete:function(e,t){var i,o,a;try{a=JSON.parse(e.responseText)}catch(o){i=o,a={status:"failed"}}return n&&n(a)}})},a=function(e){return $(document).on("click",function(n){var t;for(t in e)if($(n.target).closest(t).length)return void e[t].apply($(n.target).closest(t),arguments)})};var g=$("body").attr("data-page");if("article"==g){var y=yidian.docinfo.doc.docid;l({action_method:"CLICK_DOC",entity:{doc_id:y,ctype:yidian.docinfo.doc.ctype||"news"}})}},function(e,n,t){e.exports={"default":t(111),__esModule:!0
}},function(e,n,t){var i=t(32),o=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},,,,,function(e,n,t){"use strict";function i(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e>$(window).height()?$(".widget-tool .back-up").css("opacity",1):$(".widget-tool .back-up").css("opacity",0)}t(117);var o="\n<div class='widget-tool'>\n  <div class='item refresh icon iconfont icon-refresh anim'></div>\n  <div class='item qrcode icon iconfont icon-qrcode anim'></div>\n  <div class='item back-up anim icon iconfont icon-back-up anim'></div>\n  <div class='qrcode-download anim'>\n    <span class='qrcode iconfont icon-qrcode-detail'></span>\n    <p>扫描二维码</p>\n    <p>下载<a href='//download.yidianzixun.com'>一点资讯</a></p>\n  </div>\n</div>\n";$("body").append(o),$.mouseOverShow($(".widget-tool .qrcode"),$(".widget-tool .qrcode-download")),i(),$(window).on("scroll",i),$(".widget-tool .refresh").click(function(){$(window).trigger("refresh")}),$(".widget-tool .back-up").click(function(){$(window).scrollTop(0)})},function(e,n){},,,,,,,,,,function(e,n){e.exports="//staticimg.yidianzixun.com/modules/build/images/no_article-21efdfc5.png"},,,function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){z.loadingMore||z.loadingMoreFailed||z.loadingNoMore||$(".channel-news-nav .tab").length>1&&!$(".channel-news-nav .tab-0").hasClass("active")||(0!==F.cstart&&(L.find(".loading-tip").remove(),L.append(T)),z.loadingMore=!0,s(F,F.cstart,10,function(e){z.loadingMore=!1,L.find(".loading-tip").remove(),e&&0===e.code?(z.loadingMoreFailed=!1,e.result&&e.result.length?(e.result=F.newsFilter(e.result),F.pushDocuments(e.result),F.cstart=F.cstart+Math.max(10,e.result.length)):(z.loadingNoMore=!0,0===F.cstart?L.append(E):L.append(A))):(z.loadingMoreFailed=!0,0===F.cstart?L.append(O):L.append(P))}))}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!z.refreshing){if(z.refreshing=!0,!e.init){var n=L.offset().top-$(".header-channel-nav").height();$(window).scrollTop(n)}L.prepend(D),s(F,0,10,function(e){if($(".refresh-tip").remove(),L.prepend(N),e&&0===e.code&&e.result){for(var n=0;n<e.result.length&&"refresh_position"!=e.result[n].ctype;n++);e.result=e.result.slice(0,n),z.refreshingFailed=!1,e.result&&e.result.length?F.unshiftDocuments(e.result):$(".refresh-result").text("暂无新内容")}else $(".refresh-result").text("加载失败，稍后再试"),z.refreshingFailed=!0;$(".refresh-bg").animate({width:"100%"},500,function(){$(".refresh-bg").css("width","100%")}),setTimeout(function(){l()},1e3)})}}function r(e,n){F.fromId==n.fromId&&(F.channel_id=n.channel_id)}function c(e,n){F.channel_id==n.channel_id&&(F.channel_id=void 0)}function s(e,n,t,i){var o=function(t){if(t&&t.result){var o={};t.result=t.result.filter(function(e){return e.date=_["default"].formateDate(e.date),!!("refresh_position"==e.ctype||"interest_navigation"==e.ctype||e.docid&&e.title&&!o[e.docid])&&(o[e.docid]=e,!0)}),0==n&&(u(t),$.extend(!0,e,t),e.name=e.name||e.channel_name,e.type=e.type||e.channel_type,e.image=e.image||e.channel_image,e.summary=e.summary||e.channel_summary,e.is_current=!0),"media"==t.channel_type?$(window).trigger("widget:getMediaChannelInfo",[e]):$(window).trigger("widget:getNormalChannelInfo",[e])}i&&i(t)};e.channel_id||e.fromId?w.queryjs.getNewsList(e.channel_id||e.fromId,n,n+t,function(e){o(e)},{multi:5}):w.queryjs.getNewsListForKeyword(e.name,n,n+t,function(e){o(e)},{word_type:"token",multi:5})}function d(e){if(e=e||window.event,e.preventDefault(),yidian.filter.loginFilter()){var n=$(e.target).closest(".doc").attr("data-docid");w.queryjs.dislike(n,"",function(e){e&&"success"==e.status?F.removeDocument(n):yidian.toast("文章删除失败，请稍后再试")})}}function l(){if($(".refresh-tip").length){$(".refresh-tip").height();$(".refresh-tip").animate({height:0},500,function(){$(".refresh-tip").remove(),z.refreshing=!1})}}function u(e){if(!$(".channel-news-nav").hasClass("rendered")&&e&&e.result&&e.result.length){for(var n=0;n<e.result.length&&(!e.result[n].docid||!e.result[n].title);n++);if(n!=e.result.length){if(V.columns=[{name:"media"==e.channel_type?"主页":"全部",template:"channel"}],"media"==e.channel_type){e.result[0]&&"interest_navigation"==e.result[0].ctype&&e.result[0].columns&&e.result[0].columns.length&&(V=e.result[0],e.interest_navigation=e.result[0]);var t="";V.columns.forEach(function(n,i){if("navigation_level1"==n.template)return void(e.navigation_level1=n);var o=0==i?" active":"";t+="<div class='tab tab-"+i+o+"' data-index=\""+i+'">'+n.name+"</div>"}),$(".channel-news-nav").html(t)}else $(".channel-news-nav").html("<div class='tab tab-0 active' data-index=\"0\">全部</div>");1==$(".channel-news-nav .tab").length&&$(".tab-0").removeClass("active"),$(".channel-news").addClass("channel-news-0"),$(".channel-top").css("display","block"),$(".channel-news-nav").addClass("rendered")}}}function f(e,n){w.queryjs.getNewsListForVertical(yidian.docinfo.current_channel.fromId,e.interest_id,function(e){if(!$(".channel-news-"+n).length&&e&&e.result&&e.result.length){var t="";e.result.forEach(function(e){e.docid&&e.title&&(e.date=_["default"].formateDate(e.date),t+=F.doc2Html(e))}),t&&(t='<div class="channel-news channel-news-'+n+'">'+t+"</div>",$(".channel-top .tab.active").removeClass("active"),$(".channel-top .tab-"+n).addClass("active"),$(".channel-news").css("display","none"),$(".channel-news").after(t))}})}var h=t(110),p=i(h),m=t(89),v=i(m),g=t(90),y=i(g);t(131);var w=t(18),b=t(19),_=i(b),x=t(136),k=i(x),C=t(137),j=i(C),I=t(138),M=i(I),S=t(127),q=i(S);if(yidian.docinfo.current_channel.fromId)var E="<div class='no-news first-loading-tip'><img src='"+j["default"]+"'><p>该频道暂无新闻，看看其他频道吧~</p>";else var E="<div class='no-news first-loading-tip'><img src='"+M["default"]+"'><p>这个关键词还没有赶上人类文明呢~试试其他内容吧！</p>";var O="<div class='first-loading-failed first-loading-tip'><img src='"+q["default"]+"'><p>加载失败，<a href='javascript:void(0)'>点击重试</a></p>",D="<div class='refresh-tip'><span class='icon icon0'></span><span class='icon icon1'></span><span class='icon icon2'></span>正在推荐</div>",N="<div class='refresh-tip'><div class='refresh-bg'></div><div class='refresh-result'></div></div>",T="<div class='loading-tip loading-more'><span class='icon icon0'></span><span class='icon icon1'></span><span class='icon icon2'></span>正在推荐</div>",A="<div class='loading-tip news-no-more'>暂无更多新闻</div>",P="<div class='loading-tip loading-failed'>加载失败，点击重试</div>",H=function(){function e(n,t){if((0,v["default"])(this,e),$.extend(!0,this,n),this.$newsContainer=t,this.documents=[],this.cstart=0,this.newsVector={},(this.fromId||this.name)&&window.localStorage)try{this.expireLocalStorage();var i=JSON.parse(localStorage.getItem("yidian/channel/"+(this.fromId||this.name))),o=i&&i.latest;o&&o.length&&(this.documents=o,this.render("push",o),this.cstart=o.length,this.updateNewsVector())}catch(a){}}return(0,y["default"])(e,[{key:"updateNewsVector",value:function(){var e=this;this.newsVector={},this.documents.length&&this.documents.forEach(function(n){e.newsVector[n.docid]=n})}},{key:"expireLocalStorage",value:function(){try{for(var e in window.localStorage)if(/yidian\//.test(e)){var n=JSON.parse(localStorage.getItem(e));n instanceof Array?localStorage.removeItem(e):n&&n.token&&n.latest&&Date.now()-n.token>1728e5&&localStorage.removeItem(e)}}catch(t){}}},{key:"updateLatest10News",value:function(){var e=this.documents.slice(0,10);if((this.fromId||this.name)&&window.localStorage)try{localStorage.setItem("yidian/channel/"+(this.fromId||this.name),(0,p["default"])({token:Date.now(),latest:e}))}catch(n){}}},{key:"pushDocuments",value:function(e){this.documents=this.documents.concat(e),this.render("push",e),this.documents.length==e.length&&this.updateLatest10News()}},{key:"unshiftDocuments",value:function(e){var n=this;e=e.filter(function(e){return!(!e.docid||!e.title)});var t=[],i={};e.forEach(function(e){i[e.docid]=e}),this.documents=this.documents.filter(function(e){return i[e.docid]?(t.push(e),!1):(i[e.docid]=e,!0)}),this.documents=e.concat(this.documents);var o=e.length-t.length;o<0&&(o=0),$(".refresh-result").text(o?"为您推荐了"+o+"篇新内容":"暂无更新，休息一会儿"),t.forEach(function(e){n.$newsContainer.find("[data-docid='"+e.docid+"']").remove()}),this.render("unshift",e),this.updateLatest10News(),this.updateNewsVector()}},{key:"removeDocument",value:function(e){if(e)for(var n=0;n<this.documents.length;n++)if(this.documents[n].docid==e){var t=this.documents[n];this.documents.splice(n,1),this.render("remove",t);break}}},{key:"render",value:function(e,n){if("push"==e||"unshift"==e){var t="";if(!n.length)return;for(var i=0;i<n.length;i++){var o=n[i];o.docid&&(t+=this.doc2Html(o))}"push"==e?this.$newsContainer.append(t):"unshift"==e&&($(".split-refresh-btn").remove(),t+='<div class="item split-refresh-btn">刚刚看到这里 点击刷新</div>',L.find(".refresh-tip").length?L.find(".refresh-tip").after(t):this.$newsContainer.prepend(t),$(".split-refresh-btn-pre-doc").removeClass("split-refresh-btn-pre-doc no-bottom-border"),$(".split-refresh-btn").prev().addClass("split-refresh-btn-pre-doc no-bottom-border"))}else if("remove"==e){var a=this.$newsContainer.find("[data-docid='"+n.docid+"']");yidian.transitionRemoveDom(a,"v")}}},{key:"doc2Html",value:function(e){return"picture"==e.ctype&&"picture"!==yidian.docinfo.current_channel.type?k["default"].render(e,{onlyNews:!0}):k["default"].render(e)}},{key:"newsFilter",value:function(e){var n=[];e=e||[];for(var t=0;t<e.length;t++)e[t].docid&&e[t].title&&!this.newsVector[e[t].docid]&&(n.push(e[t]),this.newsVector[e[t].docid]=e[t]);return n}}]),e}(),R=yidian.docinfo.current_channel,L=$(".main .channel-news"),F=new H(R,L);yidian.docinfo.current_channel=F,R=F,L.on("click",".doc-remove",d),L.on("click",".loading-failed",function(){z.loadingMoreFailed=!1,o()}),L.on("click",".first-loading-failed a",function(){z.loadingMoreFailed=!1,L.find(".first-loading-tip").remove(),L.append(T),o()}),$(window).on("refresh",a),L.on("click",".split-refresh-btn",a),$(window).on("userChannels:subscribeSuccess",r),$(window).on("userChannels:unsubscribeSuccess",c);var z={loadingMore:!1,loadingMoreFailed:!1,loadingNoMore:!1,refreshing:!1,refreshingFailed:!1};F.documents.length?($(".first-loading").remove(),a({init:!0})):o(),$(window).on("scroll",function(){if(!(z.loadingMore||z.loadingMoreFailed||z.loadingNoMore)){var e=$(".doc",L).last(),n=$(window).height(),t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;t+n>e.offset().top&&o()}});var V={};$(".channel-top").on("click",".tab",function(){if(1!==$(".channel-top .tab").length&&!$(this).hasClass("active")){var e=$(this).attr("data-index");if($(".channel-news-"+e).length)return $(".channel-news").css("display","none"),$(".channel-news-"+e).css("display","block"),$(".channel-top .tab.active").removeClass("active"),void $(this).addClass("active");var n=V.columns[e];if(n)switch(n.template){case"vertical":f(n,e)}}})},function(e,n){},,,,,function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=t(19),a=i(o),r={};r.pictureTpl="\n<%\n  var href = '/article/' + doc.docid;\n%>\n<a class='item doc doc-<%=doc.ctype%>' href='<%=href%>' target='_blank' data-docid='<%=doc.docid%>'>\n  <img src='<%=doc.image%>'/>\n  <div class='doc-info'>\n    <%if(doc.source) {%>\n      <span class='source'><%=doc.source%></span>\n    <%} %>\n    <span class='date'><%=doc.date%></span>\n    <div class='doc-remove'>不感兴趣<span class='iconfont icon-close-half'></span></div>\n  </div>\n</a>\n",r.jokeTpl="\n<%\n  var href = '/article/' + doc.docid;\n%>\n<a class='item doc doc-<%=doc.ctype%>' href='<%=href%>' target='_blank' data-docid='<%=doc.docid%>'>\n  <div class='doc-title'><%=doc.title%></div>\n  <h3 class='doc-summary'><%=doc.summary.slice(0, 60)%></h3>\n  <div class='doc-info'>\n    <%if(doc.source) {%>\n      <span class='source'><%=doc.source%></span>\n    <%} %>\n    <span class='date'><%=doc.date%></span>\n    <div class='doc-remove'>不感兴趣<span class='iconfont icon-close-half'></span></div>\n  </div>\n</a>\n",r.docNoImageTpl="\n<%\n  var href = '/article/' + doc.docid;\n%>\n<a class='item doc style-no-image' href='<%=href%>' target='_blank' data-docid='<%=doc.docid%>'>\n  <div class='doc-title'><%=doc.title%></div>\n  <div class='doc-info'>\n    <%if(doc.tag_icon) {%>\n      <img src='//s.go2yd.com/c/<%=doc.tag_icon%>'/>\n    <%} %>\n    <%if(doc.wemedia_info && doc.wemedia_info.image) {%>\n      <span class='source-profile' style='background-image:url(<%=doc.wemedia_info.image%>)'></span>\n    <%}%>\n    <%if(doc.source) {%>\n      <span class='source'><%=doc.source%></span>\n    <%} %>\n    <span class='comment-count'><%=(doc.comment_count || 0)%>评</span>\n    <span class='date'><%=doc.date%></span>\n    <div class='doc-remove'>不感兴趣<span class='iconfont icon-close-half'></span></div>\n  </div>\n</a>\n",r.docSmallImageTpl="\n<%\n  var href = '/article/' + doc.docid;\n%>\n<a class='item doc style-small-image style-content-middle' href='<%=href%>' target='_blank' data-docid='<%=doc.docid%>'>\n  <div class='doc-image-small-wrapper'>\n    <div class='doc-image-box'>\n      <img class='doc-image doc-image-small' src='http://i1.go2yd.com/image.php?type=thumbnail_336x216&url=<%=doc.image_urls[0]%>'/>\n      <%if((doc.ctype ==='video' || doc.ctype ==='video_live') && doc.duration) {%>\n        <div class=\"video-time\"><%=doc.duration%></div>\n      <%}%>\n      <%if(doc.ctype ==='audio') {%>\n        <i class=\"iconfont icon-n audio-icon\"></i>\n      <%}%>\n    </div>\n  </div>\n  <div class='doc-content'>\n    <div class='doc-content-inline'>\n      <div class='doc-title'><%=doc.title%></div>\n      <div class='doc-info'>\n        <%if(doc.tag_icon) {%>\n          <img src='//s.go2yd.com/c/<%=doc.tag_icon%>'/>\n        <%} %>\n        <%if(doc.wemedia_info && doc.wemedia_info.image) {%>\n          <img class='source-profile' src='http://i1.go2yd.com/image.php?type=thumbnail_100x100&url=<%=doc.wemedia_info.image%>' />\n        <%}%>\n        <%if(doc.source) {%>\n          <span class='source'><%=doc.source%></span>\n        <%} %>\n        <span class='comment-count'><%=(doc.comment_count || 0)%>评</span>\n        <span class='date'><%=doc.date%></span>\n        <div class='doc-remove'>不感兴趣<span class='iconfont icon-close-half'></span></div>\n      </div>\n    </div>\n  </div>\n</a>\n",r.docMultiImageTpl="\n<%\n  var href = '/article/' + doc.docid;\n%>\n<a class='item doc style-multi-image' href='<%=href%>' target='_blank' data-docid='<%=doc.docid%>'>\n  <div class='doc-title'><%=doc.title%></div>\n  <div class='doc-image-multi-wrapper'>\n    <div class='doc-image-box box-0'><img class='doc-image image-0' src='http://i1.go2yd.com/image.php?type=thumbnail_336x216&url=<%=doc.image_urls[0]%>'/></div>\n    <div class='doc-image-box box-1'><img class='doc-image image-1' src='http://i1.go2yd.com/image.php?type=thumbnail_336x216&url=<%=doc.image_urls[1]%>'/></div>\n    <div class='doc-image-box box-2'><img class='doc-image image-2' src='http://i1.go2yd.com/image.php?type=thumbnail_336x216&url=<%=doc.image_urls[2]%>'/></div>\n    <div class='doc-image-box box-3'><img class='doc-image image-3' src='http://i1.go2yd.com/image.php?type=thumbnail_336x216&url=<%=doc.image_urls[3]%>'/></div>\n  </div>\n  <div class='doc-info'>\n    <%if(doc.tag_icon) {%>\n      <img src='//s.go2yd.com/c/<%=doc.tag_icon%>'/>\n    <%} %>  \n    <%if(doc.wemedia_info && doc.wemedia_info.image) {%>\n      <span class='source-profile' style='background-image:url(<%=doc.wemedia_info.image%>)'></span>\n    <%}%>\n    <%if(doc.source) {%>\n      <span class='source'><%=doc.source%></span>\n    <%} %>\n    <span class='comment-count'><%=(doc.comment_count || 0)%>评</span>\n    <span class='date'><%=doc.date%></span>\n    <div class='doc-remove'>不感兴趣<span class='iconfont icon-close-half'></span></div>\n  </div>\n</a>\n";var c=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="";if(e.docid||e.title){var i=function(){3===e.dtype&&e.image_urls&&e.image_urls.length>=4?t=ejs.render(r.docMultiImageTpl,{doc:e}):e.image||e.image_urls&&e.image_urls[0]?(e.image_urls=e.image_urls||[],e.image_urls[0]=e.image_urls[0]||e.image,e.duration&&(e.duration=a["default"].handleDuration(e.duration)),t=ejs.render(r.docSmallImageTpl,{doc:e})):t=ejs.render(r.docNoImageTpl,{doc:e})};if(n.onlyNews)i();else{var o=e.ctype+"Tpl";r[o]?t=ejs.render(r[o],{doc:e}):i()}return t}};e.exports={tpl:r,render:c}},function(e,n){e.exports="//staticimg.yidianzixun.com/modules/build/images/no_news-ab49d9f8.png"},function(e,n){e.exports="//staticimg.yidianzixun.com/modules/build/images/search_notfound-45cc5f9d.png"},function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=t(140),a=i(o);t(144);var r=t(147),c=t(18),s=(0,a["default"])(r.provinceCityHasmap),d="\n<span class='widget-weather-container'>\n  <span class='city'><%=city%></span>\n  <span class='hidden province'><%=province%></span>\n  <span class='hidden icon_pic'><%=data.day_phenomena_icon || data.night_phenomena_icon%></span>\n  <span><%=data.day_phenomena || data.night_phenomena%></span>\n  <%if(data.day_temperature != undefined && data.night_temperature != undefined) {%>\n    <span class='temperature'><%=data.day_temperature%>° / <%=data.night_temperature%>°</span>\n  <%} else {%>\n    <span class='temperature'><%=data.day_temperature || data.night_temperature%>°</span>\n  <%} %>\n</span>\n<div class=\"widget-weather-detail-box\"></div>\n",l="\n<div class='widget-weather-detail'>\n  <div class='weather-city'><span class='iconfont icon-ditu'></span><%=city%></div>\n  <div class='weather-temp'><%=temperature%></div>\n  <div class='weather-icon'><img src='<%=icon_pic%>'/></div>\n  <div class='widget-weather-province-city'></div>\n</div>\n",u="\n<div class='province-city'>\n  <span class='current-province'><span class='inner'><%=currentProvince%></span></span>\n  <span class='current-city'><span class='inner'><%=currentCity%></span></span>\n  <div class=\"btn-wrapper\"><button class='confirm'>确定</button><button class='cancel'>取消</button></div>\n  <div class='provinces hidden'>\n  <%for(var i=0; i<provinces.length; i++) {\n    var province = provinces[i];\n  %>\n    <span class='province'><%=province%></span>\n  <%} %>\n  </div>\n  <%var cities = provinceCityHasmap[currentProvince]\n    var cityWidth = Math.min(cities.length, 3) * 50 + 'px'\n  %>\n  <div class='cities hidden' style='width: <%=cityWidth%>'>\n  \n  <%for(var i=0; i<cities.length; i++) {\n    var city = cities[i];\n  %>\n    <span class='city'><%=city%></span>\n  <%} %>\n  </div>\n</div>\n",f=function(e){if(e&&e.weather){$(".widget-weather-container").off("mouseover").off("mouseout"),$(".widget-weather-detail-box").off("mouseover").off("mouseout"),$.cookie("weather_province",e.province,{expires:1,path:"/"}),$.cookie("weather_city",e.city,{expires:1,path:"/"});var n=e.weather,t=ejs.render(d,{data:n,city:e.city,province:e.province});$(".widget-weather").html(t),$.mouseOverShow($(".widget-weather-container"),$(".widget-weather-detail-box"),null,function(e){$(".widget-weather-detail-box").hasClass("js-lock")||$(".widget-weather-detail-box").css("display","none")}),$(".widget-weather").on("mouseover",function(){$(".widget-weather-detail-box").removeClass("js-lock")})}};if($.cookie("weather_province")&&$.cookie("weather_city")){var h={province:$.cookie("weather_province"),city:$.cookie("weather_city")};c.queryjs.getWeather(h,f)}else navigator.geolocation&&navigator.geolocation.getCurrentPosition&&!$.cookie("weather_auth")?navigator.geolocation.getCurrentPosition(function(e){$.cookie("weather_auth",1,{expires:1,path:"/"}),e&&e.coords&&e.coords.latitude&&e.coords.longitude&&(h={latitude:e.coords.latitude,longitude:e.coords.longitude},c.queryjs.getWeather(h,f))},function(){$.cookie("weather_auth",2,{expires:1,path:"/"}),c.queryjs.getWeather(null,f)}):c.queryjs.getWeather(null,f);$("body").on("mouseover",".widget-weather-container",function(e){var n=$(".widget-weather-container > .city").text(),t=$(".widget-weather-container > .province").text(),i=ejs.render(l,{city:n,temperature:$(".temperature").text(),icon_pic:$(".icon_pic").text()});$(".widget-weather-detail").remove(),$(".widget-weather-detail-box").html(i),i=ejs.render(u,{currentProvince:t,currentCity:n,provinces:s,provinceCityHasmap:r.provinceCityHasmap}),$(".widget-weather-province-city").html(i)}).on("click",".weather-city",function(){$(".weather-temp").hide(),$(".weather-icon").hide(),$(".widget-weather-province-city").show()}).on("click",".province-city > .provinces > .province",function(){var e=$(this).text();$(".province-city > .current-province > .inner").text(e);var n=r.provinceCityHasmap[e],t=ejs.render(u,{currentProvince:e,currentCity:n[0],provinces:s,provinceCityHasmap:r.provinceCityHasmap,cities:n});$(".widget-weather-province-city").html(t),$(".widget-weather-detail-box").addClass("js-lock")}).on("click",".province-city > .cities > .city",function(){var e=$(this).text();$(".province-city > .current-city > .inner").text(e),$(".province-city > .cities").toggleClass("hidden"),$(".widget-weather-detail-box").addClass("js-lock")}).on("click",".province-city .confirm",function(){var e={province:$(".province-city > .current-province > .inner").text(),city:$(".province-city > .current-city > .inner").text()};c.queryjs.getWeather(e,function(e){e&&e.weather?f(e):yidian.toast("获取天气信息失败~~~")})}).on("click",".province-city .cancel",function(){$(".weather-temp").show(),$(".weather-icon").show(),$(".widget-weather-province-city").hide()}).on("click",".province-city > .current-province",function(){$(".province-city > .cities").addClass("hidden"),$(".province-city > .provinces").toggleClass("hidden")}).on("click",".province-city > .current-city",function(){$(".province-city > .provinces").addClass("hidden"),$(".province-city > .cities").toggleClass("hidden")})},function(e,n,t){e.exports={"default":t(141),__esModule:!0}},function(e,n,t){t(142),e.exports=t(32).Object.keys},function(e,n,t){var i=t(67),o=t(51);t(143)("keys",function(){return function(e){return o(i(e))}})},function(e,n,t){var i=t(30),o=t(32),a=t(41);e.exports=function(e,n){var t=(o.Object||{})[e]||Object[e],r={};r[e]=n(t),i(i.S+i.F*a(function(){t(1)}),"Object",r)}},function(e,n){},,,function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t={"北京":["北京"],"天津":["天津"],"河北":["石家庄","唐山","秦皇岛","邯郸","邢台","保定","张家口","承德","沧州","廊坊","衡水"],"山西":["太原","大同","阳泉","长治","晋城","朔州","晋中","运城","忻州","临汾","吕梁"],"内蒙古":["呼和浩特","包头","乌海","赤峰","通辽","鄂尔多斯","呼伦贝尔","巴彦淖尔","乌兰察布","兴安盟","阿拉善盟"],"辽宁":["沈阳","大连","鞍山","抚顺","本溪","丹东","锦州","营口","阜新","辽阳","盘锦","铁岭","朝阳","葫芦岛"],"吉林":["长春","吉林","四平","辽源","通化","白山","松原","白城","延边"],"黑龙江":["哈尔滨","齐齐哈尔","鸡西","鹤岗","双鸭山","大庆","伊春","佳木斯","七台河","牡丹江","黑河","绥化","大兴安岭"],"上海":["上海"],"江苏":["南京","无锡","徐州","常州","苏州","南通","连云港","淮安","盐城","扬州","镇江","泰州","宿迁"],"浙江":["杭州","宁波","温州","嘉兴","湖州","绍兴","金华","衢州","舟山","台州","丽水"],"安徽":["合肥","芜湖","蚌埠","淮南","马鞍山","淮北","铜陵","安庆","黄山","滁州","阜阳","宿州","六安","亳州","池州","宣城"],"福建":["福州","厦门","莆田","三明","泉州","漳州","南平","龙岩","宁德"],"江西":["南昌","景德镇","萍乡","九江","新余","鹰潭","赣州","吉安","宜春","抚州","上饶"],"山东":["济南","青岛","淄博","枣庄","东营","烟台","潍坊","济宁","泰安","威海","日照","莱芜","临沂","德州","聊城","滨州","菏泽"],"河南":["郑州","开封","洛阳","平顶山","安阳","鹤壁","新乡","焦作","濮阳","许昌","漯河","三门峡","南阳","商丘","信阳","周口","驻马店"],"湖北":["武汉","黄石","十堰","宜昌","襄阳","鄂州","荆门","孝感","荆州","黄冈","咸宁","随州"],"湖南":["长沙","株洲","湘潭","衡阳","邵阳","岳阳","常德","张家界","益阳","郴州","永州","怀化","娄底"],"广东":["广州","韶关","深圳","珠海","汕头","佛山","江门","湛江","茂名","肇庆","惠州","梅州","汕尾","河源","阳江","清远","东莞","中山","潮州","揭阳","云浮"],"广西":["南宁","柳州","桂林","梧州","北海","防城港","钦州","贵港","玉林","百色","贺州","河池","来宾","崇左"],"海南":["海口","三亚","三沙"],"重庆":["重庆"],"四川":["成都","自贡","攀枝花","泸州","德阳","绵阳","广元","遂宁","内江","乐山","南充","眉山","宜宾","广安","达州","雅安","巴中","资阳"],"贵州":["贵阳","六盘水","遵义","安顺","毕节","铜仁"],"云南":["昆明","曲靖","玉溪","保山","昭通","丽江","普洱","临沧"],"西藏":["拉萨","日喀则","昌都","林芝","山南","那曲","阿里"],"陕西":["西安","铜川","宝鸡","咸阳","渭南","延安","汉中","榆林","安康","商洛"],"甘肃":["兰州","嘉峪关","金昌","白银","天水","武威","张掖","平凉","酒泉","庆阳","定西","陇南"],"青海":["西宁","海东"],"宁夏":["银川","石嘴山","吴忠","固原","中卫"],"新疆":["乌鲁木齐","克拉玛依","吐鲁番","哈密","阿克苏","喀什","和田","塔城","阿勒泰"],"台湾":["台北","高雄","基隆"],"香港":["香港"],"澳门":["澳门"]};n.provinceCityHasmap=t},,,,,,,,,,function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t(158);var o=t(18),a=t(19),r=i(a),c="\n<div class='widget widget-hot-video'>\n  <h4>热门视频</h4>\n  <div class='content news-list'>\n    <%for(var i=0; i<documents.length; i++) {\n      var d = documents[i];\n      var lastClass = i == documents.length - 1 ? 'last': '';\n      var itemClass = 'doc doc-video style-small-image item-'+i + ' ' + lastClass;\n      var href = '/article/' + d.docid;\n    %>\n      <a class='<%=itemClass%>' href='<%=href%>'>\n        <div class='doc-image-small-wrapper'>\n          <div class='doc-image-box'>\n            <img class='doc-image-small' src='http://i1.go2yd.com/image.php?url=<%=d.image%>&type=thumbnail_220x150'/>\n            <%if(d.duration) {%>\n              <div class=\"video-time\"><%=d.duration%></div>\n            <%} %>\n          </div>\n        </div>\n        <div class='doc-content'>\n          <div class='doc-content-inline'>\n            <div class='doc-title'><%=d.title%></div>\n            <div class='doc-info'>\n              <div class='comment-count'><%=d.comment_count%>评论</div>\n              <div class='play-count'><%=d.date%></div>\n            </div>\n          </div>\n        </div>\n      </a>\n    <%} %>\n  </div>\n</div>\n",s=4;o.queryjs.getHotVideo(s,function(e){if(e&&e.documents&&e.documents.length){e.documents.length=Math.min(e.documents.length,s);for(var n=0;n<e.documents.length;n++)e.documents[n].date=r["default"].formateDate(e.documents[n].date),e.documents[n].duration=r["default"].handleDuration(e.documents[n].duration);var t=ejs.render(c,{documents:e.documents});$(".widget-hot-video-box").html(t)}})},function(e,n){},,function(e,n){},,,,,,function(e,n){},,function(e,n,t){"use strict";t(169);var i=t(18),o="\n<div class='slide'>\n  <div class='slide-list'>\n    <%for(var i=0; i<slides.length; i++) {\n      var d = slides[i];\n      var itemClass = 'slide-item item-'+i;\n    %>\n      <a class='<%=itemClass%>' href='<%=d.href%>'>\n        <img src='<%=d.image%>'/>\n        <div class='slide-shadow'></div>\n        <p class='slide-item-title'><%=d.title%></p>\n      </a>\n    <%} %>\n  </div>\n  <div class='flag-wrapper'>\n    <%for(var i=0; i<slides.length; i++) {\n      var itemClass = 'flag flag-'+ i + (i == 0 ? ' active':'');\n    %>\n      <div class='<%=itemClass%>'></div>\n    <%} %>\n  </div>\n</div>\n";i.queryjs.getSlides(function(e){if(!e||!e.slides||!e.slides.length)return $(".slide").remove();var n=ejs.render(o,{slides:e.slides});$(".slide").replaceWith(n),$(".slide").on("click",".flag",function(e){if(e.preventDefault(),!$(this).hasClass("active")){var n=$(this).attr("class").match(/flag-(\d+)/)[1];t.activeIndex=n,c(),a(n),r()}}),$(".slide").on("mouseover",function(){c()}),$(".slide").on("mouseleave",function(){var e=$(".flag.active").index();t.activeIndex=e,r()});var t={activeIndex:0,intervalTime:3500,duration:700},i=null,a=function(e){$(".slide-item").hide(),$(".slide-list").find("img").css("opacity","0"),$(".slide-item").eq(e).show(),$(".slide-item").eq(e).find("img").animate({opacity:"1"},700),$(".slide .flag.active").removeClass("active"),$(".slide .flag.flag-"+e).addClass("active")},r=function(){i=setInterval(function(){t.activeIndex=++t.activeIndex%e.slides.length,a(t.activeIndex)},t.intervalTime)},c=function(){clearInterval(i)};r()})},function(e,n){},,function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t(172);var o=t(19),a=i(o),r=t(18),c="\n<div class='widget widget-imedia-article'>\n  <div class='content news-list'>\n    <%for(var i=0; i<documents.length; i++) {\n      var d = documents[i];\n      var lastClass = i == documents.length - 1 ? 'last': '';\n      var itemClass = 'doc style-small-image style-content-middle item-'+i + ' ' + lastClass;\n      var href = '/article/' + d.docid;\n      var profile = d.channel_image || d.image_urls[0];\n    %>\n      <a class='<%=itemClass%>' href='<%=href%>'>\n        <div class='doc-image-small-wrapper'>\n          <img class='doc-image-small' src='http://i1.go2yd.com/image.php?type=thumbnail_300x300&url=<%=profile%>'/>\n        </div>\n        <div class='doc-content'>\n          <div class='doc-content-inline'>\n            <div class='doc-title'><%=d.title%></div>\n            <div class='doc-info'>\n              <div class='source'><%=d.source%></div>\n              <div class='date'><%=d.date%></div>\n            </div>\n          </div>\n        </div>\n      </a>\n    <%} %>\n  </div>\n</div>\n";r.queryjs.cardImediaArticle(5,function(e){var n=[];if(e&&e.documents&&e.documents.length){for(var t=e.documents,i=0,o=0;o<t.length;o++)t[o]=t[o]||{},i+=t[o].result&&t[o].result.length||0;for(var r=0;;){for(var o=0;o<t.length;o++)for(t[o].result=t[o].result||[];t[o].result.length;){r++;var s=t[o].result.shift();if(s.docid){s.channel_image=t[o].channel_image,s.date=a["default"].formateDate(s.date),n.push(s);break}}if(n.length>=4||r==i)break}n.length=Math.min(n.length,4)}if(n.length){var d=ejs.render(c,{documents:n});$(".widget-imedia-article-box").html(d)}})},function(e,n){},,function(e,n,t){"use strict";t(175);var i=t(18),o="\n<div class='widget widget-hot-article'>\n  <h4>热文排行</h4>\n  <div class='content news-list'>\n    <%for(var i=0; i<documents.length; i++) {\n      var d = documents[i];\n      var lastClass = i == documents.length - 1 ? 'last': '';\n      var itemClass = 'doc item-'+i + ' ' + lastClass;\n      var href = '/article/' + d.docid;\n    %>\n      <a class='<%=itemClass%>' href='<%=href%>'>\n        <div class='index iconfont icon-<%=i+1%>'></div>\n        <div class='doc-title'><%=d.title%></div>\n      </a>\n    <%} %>\n  </div>\n</div>\n";i.queryjs.getHotArticle(function(e){if(e&&e.length&&e.length){var n=5;if(e.length>n){for(var t=e.length,i=0;i<n;i++){var a=(Math.random()*(t-i)>>0)+i;if(a!==i){var r=[e[i],e[a]];e[a]=r[0],e[i]=r[1]}}e=e.slice(0,n)}var c=ejs.render(o,{documents:e});$(".widget-hot-article-box").html(c)}})},function(e,n){},,function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t(178);var o=t(180),a=i(o),r=t(181),c=i(r),s='\n<div class="widget widget-about-yidian">\n  <h4>关于一点</h4>\n  <div class="content">\n    <div class="links">\n      <a class="item about-us" href=\'/about\'>\n        <div class="iconfont icon-yidian"></div>\n        <p>关于我们</p>\n      </a>\n      <a class="item yd-hao" href=\'http://mp.yidianzixun.com/\'>\n        <div class="iconfont icon-ydhao"></div>\n        <p>一点号</p>\n      </a>\n      <a class="item join-yd" href=\'http://www.hotjob.cn/wt/yidian/web/index?brandCode=1\'>\n        <div class="iconfont icon-jiaruwomen"></div>  \n        <p>加入一点</p>\n      </a>\n    </div>\n    <div class="qrcode-download">\n      <div class=\'qrcode iconfont icon-qrcode-detail\'></div>\n      <div class="logo iconfont icon-logo"></div>\n      <a href=\'//download.yidianzixun.com\'>扫描二维码下载APP</a>\n    </div>\n    <div class="official-info">\n      <a href="mailto:kefu@yidian-inc.com">用户反馈：kefu@yidian-inc.com</a>\n      <a href="mailto:bd@yidian-inc.com">商务合作：bd@yidian-inc.com</a>\n      <a href="mailto:hr@yidian-inc.com">加入我们：hr@yidian-inc.com</a>\n      <a href="mailto:mp@yidian-inc.com">一点号问题反馈：mp@yidian-inc.com</a>\n      <a href="mailto:tousu@yidian-inc.com">举报邮箱：tousu@yidian-inc.com</a>\n      <a href="mailto:adservices@yidian-inc.com">广告合作：adservices@yidian-inc.com</a>\n      <a href="mailto:localservices@yidian-inc.com">本地化合作：localservices@yidian-inc.com</a>\n      <p>客服：4008191599</p>\n      <p>前台：010-60676688</p>\n      <p>举报电话：13691332103</p>\n    </div>\n    <div class="official-info">\n      <p>京ICP证140123号</p>\n      <p>京网文[2015]0377-157号</p>\n      <p><a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备13041805号-1</a></p>\n      <a href="http://static.yidianzixun.com/modules/docs/yidian_ypxxfw.pdf" target="_blank">互联网药品信息服务资格证书</a>\n      <a href="http://www.12377.cn" target="_blank">中国互联网举报中心网址: http://www.12377.cn</a>\n      <a href="http://www.12377.cn/node_548446.htm" target="_blank">"网络举报"移动客户端下载链接: http://www.12377.cn/node_548446.htm</a>\n      <p><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802020163"><span class="icon-jgw"></span><span>京公网安备 11010802020163号</span></a></p>\n      <a href="http://www.12377.cn" target="_blank" class="icon-12377">\n        <img src="'+a["default"]+'"/>\n        <h5>网上有害信息举报专区</h5>\n        <p>举报电话：12377</p>\n      </a>\n      <a href="http://www.bjjubao.org/" target="_blank" class="icon-jubao">\n        <img src="'+c["default"]+'"/>\n        <h5>北京互联网违法和不良信息举报中心</h5>\n      </a>\n    </div>\n  </div>\n</div>\n',d=s;
$(".widget-about-yidian-box").html(d),$(window).on("scroll",function(){var e=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;e>$(".aside").height()+199-53?$(".qrcode-download").addClass("fixed"):$(".qrcode-download").removeClass("fixed")})},function(e,n){},,function(e,n){e.exports="//staticimg.yidianzixun.com/modules/build/images/12377-15cc24e5.png"},function(e,n){e.exports="//staticimg.yidianzixun.com/modules/build/images/jubao-8923760b.png"},function(e,n){e.exports="//static.yidianzixun.com/modules/build//views_online/index_pc/index.jade"}]);